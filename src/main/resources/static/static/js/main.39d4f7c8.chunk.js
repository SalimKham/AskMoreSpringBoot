(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{45:function(e,t,a){e.exports=a(84)},84:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(27),l=a.n(s),c=a(5),i=a(6),o=a(8),u=a(7),d=a(9),p=a(11),m=a(10),h=a(1),b=a.n(h),E=a(4),v=a(3),f=a.n(v),g="GET_ERRORS",y="https://askmorespringboot.heroku.com/api/files",w=function(e){e?f.a.defaults.headers.common.Authorization=e:delete f.a.defaults.headers.common.Authorization},x=a(24),k=a.n(x),O=function(){return function(){var e=Object(E.a)(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/api/users/all");case 3:a=e.sent,t({type:"GET_USERS_LIST",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:g,payload:e.t0.response.data});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},j=function(){return Object(E.a)(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.localStorage.clear(),window.location.href="/";case 2:case"end":return e.stop()}},e)}))},S=a(13),C=a(2),N=function(e){var t=[];return t.push(e.id),t.push(e.content),t.push(e.sender),t.push(e.receiver),t.push(e.sendAt),t.push(e.vue),t},_=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).scrollToBottom=function(){e.messagesEnd&&e.messagesEnd.scrollIntoView({behavior:"smooth"})},e.state={show:!1,show_chat_box:!1,minimize_chat_box:!1,chat_box_user:{},lastRef:0,message:""},e.minimizeChatBox=e.minimizeChatBox.bind(Object(C.a)(Object(C.a)(e))),e.onChange=e.onChange.bind(Object(C.a)(Object(C.a)(e))),e.onSubmit=e.onSubmit.bind(Object(C.a)(Object(C.a)(e))),e.createChatBox=e.createChatBox.bind(Object(C.a)(Object(C.a)(e))),e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"setChatBoxUser",value:function(e){this.setState({chat_box_user:e,show_chat_box:!0,minimize_chat_box:!1}),this.props.getMessages(e.id)}},{key:"createUsersList",value:function(){var e=this,t=[],a=this.props.user.userList;return a.length>0&&a.map(function(a){t.push(r.a.createElement("li",{id:"",style:{backgroundColor:"#616161",color:"white"},onClick:e.setChatBoxUser.bind(e,{username:a[1],id:a[0],state:a[3],photo:a[5]?y+"/profile/"+a[5]+".min.png":"/images/no-avatar.th.png"})},r.a.createElement("span",{class:2===a[3]?"online":"offline"}),a[1]))}),t}},{key:"createMessagesList",value:function(){var e=this,t=[],a=this.props.chat.list,n=this.props.currentUser.user&&this.props.currentUser.user.photo?y+"/profile/"+this.props.currentUser.user.photo+".min.png":"/images/no-avatar.th.png";if(a.length>0){var s=1;a.map(function(l){var c=s===a.length?100:0;""+l[2]===e.props.currentUser.user.id?t.push(r.a.createElement("li",{ref:c},r.a.createElement("img",{src:n,class:"avatar"}),r.a.createElement("div",{class:"block  content",style:{width:"250px"}},r.a.createElement("span",null,"at ",l[4].split(".")[0]," ",l[5]&&r.a.createElement("b",{class:"right"},"\u2714\u2714")),r.a.createElement("p",{id:""},l[1])))):t.push(r.a.createElement("li",{ref:c},r.a.createElement("div",{class:"block  content",style:{width:"250px",borderColor:"#0038AD"}},r.a.createElement("span",null,"at ",l[4].split(".")[0]," "),r.a.createElement("p",{id:""},l[1])),r.a.createElement("img",{src:e.state.chat_box_user.photo,class:"avatar"}))),s++})}return t}},{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval(function(){return e.updateMessages()},5e3)}},{key:"updateMessages",value:function(){this.state.show_chat_box&&this.props.getMessages(this.state.chat_box_user.id)}},{key:"componentWillMount",value:function(){this.props.getUserList()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"minimizeChatBox",value:function(){this.setState({minimize_chat_box:!this.state.minimize_chat_box})}},{key:"onChange",value:function(e){this.setState(Object(S.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(){var e={content:this.state.message,sender:this.props.currentUser.user.id,receiver:this.state.chat_box_user.id};this.props.senMessage(e),this.setState({message:""})}},{key:"closeChatBox",value:function(){this.setState({show_chat_box:!1})}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"createChatBox",value:function(){var e=this;return r.a.createElement("div",{id:"chat_box",style:{width:"400px"}},r.a.createElement("div",{class:"title",onClick:this.minimizeChatBox,style:{backgroundColor:"black",color:"white"}},r.a.createElement("span",{id:"state",class:2===this.state.chat_box_user.state?"online":"offline"}),this.state.chat_box_user.username,r.a.createElement("a",{style:{backgroundColor:"white"},onClick:this.closeChatBox.bind(this),class:"remove"}),r.a.createElement("a",{style:{backgroundColor:"white"},onClick:this.minimizeChatBox,class:"hide"})),!this.state.minimize_chat_box&&r.a.createElement("div",{class:"box_body"},r.a.createElement("div",{class:"msg_list"},r.a.createElement("a",{href:"#",class:"more"},"view more"),r.a.createElement("ul",{style:{overflowY:"auto"}},this.createMessagesList(),r.a.createElement("div",{style:{float:"left",clear:"both"},ref:function(t){e.messagesEnd=t}})),r.a.createElement("div",{class:"clear"})),r.a.createElement("div",{class:"send_msg"},r.a.createElement("textarea",{name:"message",value:this.state.message,onChange:this.onChange}),r.a.createElement("div",{className:"col-md-12  text-right "},r.a.createElement("button",{type:"submit",className:"btn btn-success btn-sm",onClick:this.onSubmit}," Send ")))))}},{key:"showOrHide",value:function(){this.setState({show:!this.state.show})}},{key:"render",value:function(){return r.a.createElement("div",null,!this.state.show&&r.a.createElement("a",{id:"chat_toggle",onClick:this.showOrHide.bind(this),className:"bold align-center"},"Chat"),this.state.show&&r.a.createElement("div",{id:"user_online",style:{top:"100px"}},r.a.createElement("div",{class:"title",style:{backgroundColor:"black",top:"100px",color:"white"}},r.a.createElement("span",{class:"chat-icon"}),"Users"),r.a.createElement("div",{class:"config",style:{backgroundColor:"#155EB6"}},r.a.createElement("span",{class:"configuration"},r.a.createElement("div",{class:"status"},r.a.createElement("a",{href:"#",class:"offline"},"offline"),r.a.createElement("a",{href:"#",class:"online"},"online"))),r.a.createElement("a",{href:"#",class:"scrollup"}),r.a.createElement("a",{href:"#",class:"scrolldown"}),r.a.createElement("a",{onClick:this.showOrHide.bind(this),class:"hide"})),r.a.createElement("div",{class:"scroll"},r.a.createElement("ul",null,this.createUsersList())),r.a.createElement("div",{class:"search"},r.a.createElement("input",{type:"text",name:"q",value:"",placeholder:"Search users .."}))),this.state.show_chat_box&&this.createChatBox())}}]),t}(n.Component),T=Object(m.b)(function(e){return{user:e.admin,currentUser:e.security,chat:e.chat}},{getMessages:function(e){return function(){var t=Object(E.a)(b.a.mark(function t(a){var n;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("/api/chat/"+e);case 3:n=t.sent,a({type:"GET_CHAT_MESSAGES",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:g,payload:t.t0.response.data});case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},senMessage:function(e){return function(){var t=Object(E.a)(b.a.mark(function t(a){var n;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.post("/api/chat/send/",e);case 3:n=t.sent,a({type:"SEND_CHAT_MESSAGE",payload:N(n.data)}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},getUserList:O})(_),I=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"logout",value:function(){this.props.logout()}},{key:"render",value:function(){var e=!!localStorage.jwtToken,t=this.props.user.user&&this.props.user.user.photo?y+"/profile/"+this.props.user.user.photo+".min.png":"/images/no-avatar.th.png";return r.a.createElement("header",null,r.a.createElement("div",{className:" collapse",style:{background:"#155EB6"},id:"navbarHeader"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-8 col-md-7 py-4"},r.a.createElement("h4",{style:{color:"black"}},"About"),r.a.createElement("p",{className:"",style:{color:"white"}},"Add some information about the album below, the author, or any other background context. Make it a few sentences long so folks can pick up some informative tidbits. Then, link them off to some social networking sites or contact information.")),e&&r.a.createElement("div",{className:"col-sm-1 offset-md-1 py-4 align-center",style:{padding:"0px",borderLeft:"1px solid black",borderRight:"1px solid black",borderBottom:"6px solid black",backgroundColor:"#181C22"}},r.a.createElement("img",{className:"rounded-circle",style:{marginBottom:"5px",border:"solid 2px black"},src:t}),r.a.createElement("ul",{className:"list-unstyled"},r.a.createElement("li",null,r.a.createElement("a",{href:"/profile/"+this.props.user.user.id+"/1",className:"btn  text-primary underlineHover",style:{marginBottom:"5px",width:"100%",backgroundColor:"black"}},"Profile")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/profile",className:"btn  text-primary underlineHover",style:{marginBottom:"5px",width:"100%",backgroundColor:"black"}},"Mail")),r.a.createElement("li",null,r.a.createElement(p.b,{className:"btn  text-primary underlineHover",style:{width:"100%",backgroundColor:"black"},onClick:this.logout.bind(this)},"Logout"))))))),r.a.createElement("div",{className:"navbar   navbar-dark shadow-sm ",style:{background:"#155EB6",borderBottom:"solid 3px black"}},r.a.createElement("div",{className:"container d-flex justify-content-between"},r.a.createElement(p.b,{to:"/",className:"navbar-brand d-flex align-items-center"},r.a.createElement("img",{src:"/images/header-logo.png"})),r.a.createElement("button",{className:"navbar-toggler collapsed",type:"button","data-toggle":"collapse","data-target":"#navbarHeader","aria-controls":"navbarHeader","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})))),e&&r.a.createElement(T,null))}}]),t}(n.Component),A=Object(m.b)(function(e){return{user:e.security}},{getProfile:function(){return function(){var e=Object(E.a)(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/api/profile/getProfile/");case 3:a=e.sent,t({type:"GET_USER_INFO",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:g,payload:e.t0.response.data});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},logout:j})(I),L=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"carousel-example-2",class:"carousel slide carousel-fade","data-ride":"carousel"},r.a.createElement("ol",{class:"carousel-indicators"},r.a.createElement("li",{"data-target":"#carousel-example-2","data-slide-to":"0",class:"active"}),r.a.createElement("li",{"data-target":"#carousel-example-2","data-slide-to":"1"}),r.a.createElement("li",{"data-target":"#carousel-example-2","data-slide-to":"2"})),r.a.createElement("div",{class:"carousel-inner",role:"listbox"},r.a.createElement("div",{class:"carousel-item active"},r.a.createElement("div",{class:"view"},r.a.createElement("img",{class:"d-block w-100",src:"/images/how/home.png",alt:"First slide"}),r.a.createElement("div",{class:"mask rgba-black-light"})),r.a.createElement("div",{class:"carousel-caption"},r.a.createElement("h3",{class:"h3-responsive"},"Light mask"),r.a.createElement("p",null,"First text"))),r.a.createElement("div",{class:"carousel-item"},r.a.createElement("div",{class:"view"},r.a.createElement("img",{class:"d-block w-100",src:"https://mdbootstrap.com/img/Photos/Slides/img%20(6).jpg",alt:"Second slide"}),r.a.createElement("div",{class:"mask rgba-black-strong"})),r.a.createElement("div",{class:"carousel-caption"},r.a.createElement("h3",{class:"h3-responsive"},"Strong mask"),r.a.createElement("p",null,"Secondary text"))),r.a.createElement("div",{class:"carousel-item"},r.a.createElement("div",{class:"view"},r.a.createElement("img",{class:"d-block w-100",src:"https://mdbootstrap.com/img/Photos/Slides/img%20(9).jpg",alt:"Third slide"}),r.a.createElement("div",{class:"mask rgba-black-slight"})),r.a.createElement("div",{class:"carousel-caption"},r.a.createElement("h3",{class:"h3-responsive"},"Slight mask"),r.a.createElement("p",null,"Third text")))),r.a.createElement("a",{class:"carousel-control-prev",href:"#carousel-example-2",role:"button","data-slide":"prev"},r.a.createElement("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),r.a.createElement("span",{class:"sr-only"},"Previous")),r.a.createElement("a",{class:"carousel-control-next",href:"#carousel-example-2",role:"button","data-slide":"next"},r.a.createElement("span",{class:"carousel-control-next-icon","aria-hidden":"true"}),r.a.createElement("span",{class:"sr-only"},"Next"))))}}]),t}(n.Component),P=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=!!localStorage.jwtToken;return r.a.createElement("div",null,r.a.createElement("div",{class:"wrapper fadeInDown"},r.a.createElement("h4",{className:"bold"},"Welcome"),r.a.createElement("p",{class:"margin font22"},"Welcome to Ask More website"),r.a.createElement("em",{class:"margin font18",style:{lineHeight:"32px"}}," You Are One step a head."),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),!e&&r.a.createElement("div",{className:"input-groupe btn align-center"},r.a.createElement(p.b,{to:"/login",className:"btn bg-dark text-white "},"Login"),r.a.createElement(p.b,{to:"/Register",className:"btn btn-success"},"SignUp")),e&&r.a.createElement("div",{className:"input-groupe btn align-center"},r.a.createElement(p.b,{to:"/tutorials",className:"btn bg-dark text-white "},"Go To Tutorials"))))}}]),t}(n.Component),U=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={username:"",password:"",errors:{}},e.onChange=e.onChange.bind(Object(C.a)(Object(C.a)(e))),e.onSubmit=e.onSubmit.bind(Object(C.a)(Object(C.a)(e))),e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"onChange",value:function(e){var t;this.setState((t={},Object(S.a)(t,e.target.name,e.target.value),Object(S.a)(t,"errors",{}),t))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={username:this.state.username,password:this.state.password};this.props.login(t,this.props.history)}},{key:"componentWillReceiveProps",value:function(e){e.security.validToken&&this.props.history.push("/"),e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",null,r.a.createElement("div",{class:"wrapper fadeInDown"},r.a.createElement("div",{id:"formContent"},r.a.createElement("h2",null,"Log in"),e.username&&r.a.createElement("div",{class:"alert alert-danger"},e.username," OR  ",e.password),e.error&&r.a.createElement("div",{class:"alert alert-danger"},e.error),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{type:"text",class:"fadeIn third",name:"username",placeholder:"user name",value:this.state.username,onChange:this.onChange}),r.a.createElement("input",{type:"password",class:"fadeIn third",name:"password",placeholder:"password",value:this.state.password,onChange:this.onChange}),r.a.createElement("div",{className:"input-groupe btn align-center"},r.a.createElement(p.b,{to:"/",className:"btn bg-dark text-white"},"Cancel"),r.a.createElement("button",{type:"submit",className:"btn btn-success"},"Login "))),r.a.createElement("div",{id:"formFooter"},r.a.createElement(p.b,{class:"underlineHover",to:""},"Forgot Password?"),r.a.createElement(p.b,{class:"underlineHover",to:"/register"},"Sign up")))))}}]),t}(n.Component),G=Object(m.b)(function(e){return{errors:e.errors,security:e.security}},{login:function(e){return function(){var t=Object(E.a)(b.a.mark(function t(a){var n,r;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.post("/api/users/login",e);case 3:n=t.sent,r=n.data.token,window.localStorage.setItem("jwtToken",r),w(r),window.location.href="/",t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:g,payload:t.t0.response.data});case 13:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e){return t.apply(this,arguments)}}()}})(U),D=function(e){function t(e){var a;Object(c.a)(this,t);var n=(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).props.match.params.id;return a.state={code:"",errors:{},id:n},a.onChange=a.onChange.bind(Object(C.a)(Object(C.a)(a))),a.onSubmit=a.onSubmit.bind(Object(C.a)(Object(C.a)(a))),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"onChange",value:function(e){var t;this.setState((t={},Object(S.a)(t,e.target.name,e.target.value),Object(S.a)(t,"errors",{}),t))}},{key:"onSubmit",value:function(e){e.preventDefault(),this.props.confirm(this.state.id,this.state.code)}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){this.state.errors;return r.a.createElement("div",null,r.a.createElement("div",{class:"wrapper fadeInDown"},r.a.createElement("div",{id:"formContent"},r.a.createElement("h4",null,"Email Verification"),r.a.createElement("p",{class:"margin font16"},"Thanks for signing up... Now it's time to get engaged!"),r.a.createElement("em",{class:"margin font14",style:{lineHeight:"32px"}},"Please check your email account for the ",r.a.createElement("b",{style:{color:"#a44"}},"confirmation code"),"."),r.a.createElement("br",null),r.a.createElement("em",{class:"margin font14",style:{lineHeight:"32px"}},">Once you've copy the code of confirmation in that email and typed in this form,"),r.a.createElement("br",null),r.a.createElement("em",{class:"margin font14",style:{lineHeight:"32px"}},">you'll be able to login to ",r.a.createElement("b",{class:"font14",style:{color:"#48b"}},"AskMore")," web-app"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{type:"text",class:"fadeIn third",style:{borderBottom:"solid 2px green"},name:"code",placeholder:"Confirmation Code",value:this.state.code,onChange:this.onChange}),r.a.createElement("div",{class:"input-groupe btn align-center"},r.a.createElement(p.b,{to:"/",className:"btn btn-danger "},"Cancel"),r.a.createElement("button",{type:"submit",className:"btn btn-success"},"Confirm"))))))}}]),t}(n.Component),R=Object(m.b)(function(e){return{errors:e.errors}},{confirm:function(e,t){return function(){var a=Object(E.a)(b.a.mark(function a(n){return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.a.post("/api/users/confirm/"+e+"/"+t);case 3:window.location.href="/login",n({type:g,payload:{}}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),n({type:g,payload:a.t0.response.data});case 10:case"end":return a.stop()}},a,null,[[0,7]])}));return function(e){return a.apply(this,arguments)}}()}})(D),F=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={username:"",email:"",password:"",confirmPassword:"",type:"2",errors:{}},e.onChange=e.onChange.bind(Object(C.a)(Object(C.a)(e))),e.onSubmit=e.onSubmit.bind(Object(C.a)(Object(C.a)(e))),e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"onChange",value:function(e){this.setState(Object(S.a)({},e.target.name,e.target.value))}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={username:this.state.username,email:this.state.email,password:this.state.password,confirmPassword:this.state.confirmPassword};this.props.createUser(t,this.props.history,this.state.type)}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",null,r.a.createElement("div",{className:"wrapper fadeInDown"},r.a.createElement("div",{id:"formContent"},r.a.createElement("h2",null,"Sign up"),e.error&&r.a.createElement("div",{class:"alert alert-danger"},e.error),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{type:"text",className:"fadeIn first",name:"username",placeholder:"user name",value:this.state.username,onChange:this.onChange}),r.a.createElement("input",{type:"email",className:"fadeIn second",name:"email",placeholder:"Email Address",required:"required",value:this.state.email,onChange:this.onChange}),r.a.createElement("input",{type:"password",className:"fadeIn third",name:"password",placeholder:"password",value:this.state.password,onChange:this.onChange}),r.a.createElement("input",{type:"password",className:"fadeIn third",name:"confirmPassword",placeholder:"Confirm Password",required:"required",value:this.state.confirmPassword,onChange:this.onChange}),r.a.createElement("select",{className:"fadeIn third",id:"sel1",name:"type",value:this.state.type,onChange:this.onChange},r.a.createElement("option",{value:"2"},"Student"),r.a.createElement("option",{value:"3"},"Teacher")),r.a.createElement("div",{className:"input-groupe btn align-center"},r.a.createElement(p.b,{to:"/",className:"btn bg-dark text-white "},"Cancel"),r.a.createElement("button",{type:"submit",className:"btn btn-success"},"Sign Up "))),r.a.createElement("div",{id:"formFooter"},r.a.createElement(p.b,{className:"underlineHover",to:"/login"},"Already Have Account?")))))}}]),t}(n.Component),B=Object(m.b)(function(e){return{errors:e.errors}},{createUser:function(e,t,a){return function(){var n=Object(E.a)(b.a.mark(function n(r){return b.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f.a.post("/api/users/register/"+a,e);case 3:t.push("/login"),r({type:g,payload:{}}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),r({type:g,payload:n.t0.response.data});case 10:case"end":return n.stop()}},n,null,[[0,7]])}));return function(e){return n.apply(this,arguments)}}()}})(F),M=a(23),q=a(19),Q=a(42),W={},H=a(12),Y={user:null,userInfo:null,studentGroupes:"",validToken:!1,profile:null},V=function(e,t){return e.profile.userInfo=t,e.profile},z=function(e,t){return e.profile.userInfo.photo=t,""+e.profile.id===e.user.id&&(e.user.photo=t),e.profile},J=a(22),X={userList:{},groupeList:{},fieldList:{},subjectList:{}},K=function(e,t){switch(t.state){case 1:return e.fieldList[t.index].is_arrchived=!e.fieldList[t.index],e;case 2:return e.fieldList.filter(function(e){return e.id!==t.index})}return e},$=function(e,t){switch(t.state){case 1:return e.subjectList[t.index].is_arrchived=!e.fieldList[t.index],e;case 2:return e.subjectList.filter(function(e){return e.id!==t.index})}return e},Z=function(e,t){switch(t.state){case 1:return e.userList.filter(function(e){return e[0]!==t.index});case 2:e.userList[t.index][3]=1;break;case 3:3==e.userList[t.index][3]?e.userList[t.index][3]=1:e.userList[t.index][3]=3}return e.userList},ee={groupe:null,list:[],students:null},te=function(e,t){return e&&e.acceptedStudents&&(e.acceptedStudents=e.acceptedStudents.replace(""+t,"")),e},ae=function(e,t){return e.students?e.students.filter(function(e){return e.id!==t}):e.students},ne=function(e,t){return e.acceptedStudents=e.acceptedStudents+"/"+t,e},re=function(e,t){switch(t.state){case 1:return e.list.filter(function(e){return e.id!==t.index});case 2:e.list[t.index].state=t.newState}return e.list},se={groupes:{},list:null,selected:null,subjects:{}},le=function(e){return e.selected.nbrComment=parseInt(e.selected.nbrComment)+1,e.selected},ce=function(e){return e.selected.questionnary=null,e.selected},ie={comments:{}},oe={list:{}},ue=Object(q.c)({errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_PROFILE_PICTURE":return{result:"successful !!"};case g:return t.payload;default:return e}},security:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(H.a)({},e,{validToken:!!t.payload,user:t.payload});case"GET_USER_INFO":return Object(H.a)({},e,{userInfo:V(e,t.payload)});case"GET_STUDENT_GROUPES":return Object(H.a)({},e,{studentGroupes:t.payload});case"GET_PROFILE":return Object(H.a)({},e,{profile:t.payload});case"UPDATE_PROFILE_PICTURE":return Object(H.a)({},e,{profile:z(e,t.payload)});case"LEAVE_GROUPE":return Object(H.a)({},e,{studentGroupes:e.studentGroupes?e.studentGroupes.replace(""+t.payload.id_groupe,""):""});default:return e}},admin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USERS_LIST":return Object(H.a)({},e,{userList:t.payload});case"GET_FIELD_LIST":return Object(H.a)({},e,{fieldList:t.payload});case"GET_SUBJECT_LIST":return Object(H.a)({},e,{subjectList:t.payload});case"UPDATE_USER_STATE":return Object(H.a)({},e,{userList:Z(e,t.payload)});case"ADD_FIELD":return Object(H.a)({},e,{fieldList:[].concat(Object(J.a)(e.fieldList),[t.payload])});case"ADD_SUBJECT":return Object(H.a)({},e,{subjectList:[].concat(Object(J.a)(e.subjectList),[t.payload])});case"UPDATE_FIELD_STATE":return Object(H.a)({},e,{fieldList:K(e,t.payload)});case"UPDATE_SUBJECT_STATE":return Object(H.a)({},e,{subjectList:$(e,t.payload)});default:return e}},groupe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_GROUPE_LIST":return Object(H.a)({},e,{list:t.payload});case"ADD_GROUPE":return Object(H.a)({},e,{list:[].concat(Object(J.a)(e.list),[t.payload])});case"UPDATE_GROUPE_LIST":return Object(H.a)({},e,{list:re(e,t.payload)});case"GET_GROUPE":return Object(H.a)({},e,{groupe:t.payload,students:t.payload.students});case"ACCEPT_STUDENT_IN_GROUPE":return Object(H.a)({},e,{groupe:ne(e.groupe,t.payload)});case"LEAVE_GROUPE":return Object(H.a)({},e,{groupe:te(e.groupe,t.payload.id_student),students:ae(e,t.payload.id_student)});default:return e}},tutorial:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_SUBJECT_LIST":return Object(H.a)({},e,{subjects:t.payload});case"GET_GROUPE_LIST_BY_TEACHER":return Object(H.a)({},e,{groupes:t.payload});case"GET_TUTORIAL":return Object(H.a)({},e,{selected:t.payload});case"GET_ALL_TUTORIALS":return Object(H.a)({},e,{list:t.payload});case"DELETE_QUESTIONNARY":return Object(H.a)({},e,{selected:ce(e)});case"ADD_COMMENT":return Object(H.a)({},e,{comments:le(e)});default:return e}},comment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_COMMENT":return Object(H.a)({},e,{comments:[].concat(Object(J.a)(e.comments),[t.payload])});case"GET_COMMENT_BY_TYPE":return Object(H.a)({},e,{comments:t.payload});case"DELETE_COMMENT":return Object(H.a)({},e,{comments:e.comments.filter(function(e){return e.id!==t.payload.id})});default:return e}},chat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CHAT_MESSAGES":return Object(H.a)({},e,{list:t.payload});case"SEND_CHAT_MESSAGE":return Object(H.a)({},e,{list:[].concat(Object(J.a)(e.list),[t.payload])});default:return e}}}),de={},pe=[function(e){return function(e){return function(t){var a=localStorage.jwtToken;if(a){w(a);var n=k()(a),r=Date.now()/1e3;parseInt(n.exp)<Math.round(r)&&(window.localStorage.clear(),f.a.post("/api/users/logout/"+n.username),console.log("loged out end"))}e(t)}}},Q.a],me=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),he=window.navigator.userAgent.includes("Firefox")&&me?Object(q.e)(ue,de,Object(q.d)(q.a.apply(void 0,pe),me)):Object(q.e)(ue,de,Object(q.d)(q.a.apply(void 0,pe))),be=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={newPassword:"",oldPassword:"",confirmPassword:"",errors:{}},e.onChange=e.onChange.bind(Object(C.a)(Object(C.a)(e))),e.onSubmit=e.onSubmit.bind(Object(C.a)(Object(C.a)(e))),e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"onChange",value:function(e){var t;this.setState((t={},Object(S.a)(t,e.target.name,e.target.value),Object(S.a)(t,"errors",{}),t))}},{key:"onSubmit",value:function(e){e.preventDefault(),this.state.oldPassword===this.state.confirmPassword?this.props.editPassword(this.state.oldPassword,this.state.newPassword):this.setState({errors:{error:"password not matched!"}})}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{class:"input-groupe"},e.error?r.a.createElement("div",{className:"alert alert-danger",role:"alert"}," ",e.error," "):"",e.result?r.a.createElement("div",{className:"alert alert-success",role:"alert"}," ",e.result," "):""),r.a.createElement("div",{class:"input-groupe"},r.a.createElement("label",null,"Username"),r.a.createElement("div",{class:"inputs"},r.a.createElement("label",null,this.props.user.user.username))),r.a.createElement("div",{class:"input-groupe"},r.a.createElement("label",null,"Password"),r.a.createElement("div",{class:"inputs"},r.a.createElement("input",{type:"password",name:"oldPassword",placeholder:"old Password",required:"required",value:this.state.oldPassword,onChange:this.onChange}))),r.a.createElement("div",{class:"input-groupe"},r.a.createElement("label",null,"Confirm Password"),r.a.createElement("div",{class:"inputs"},r.a.createElement("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Password",required:"required",value:this.state.confirmPassword,onChange:this.onChange}))),r.a.createElement("div",{class:"input-groupe"},r.a.createElement("label",null,"New Password"),r.a.createElement("div",{class:"inputs"},r.a.createElement("input",{type:"password",name:"newPassword",placeholder:"new Password",required:"required",value:this.state.newPassword,onChange:this.onChange}))),r.a.createElement("div",{class:"input-groupe btn"},r.a.createElement("input",{type:"reset",value:"reset"}),r.a.createElement("input",{type:"submit",value:"save",name:"editUserAccount"}))))}}]),t}(n.Component),Ee=Object(m.b)(function(e){return{errors:e.errors,user:e.security}},{editPassword:function(e,t){return function(){var a=Object(E.a)(b.a.mark(function a(n){return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.a.post("/api/profile/updateAccount/"+e+"/"+t);case 3:n({type:g,payload:{result:"updated"}}),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),n({type:g,payload:a.t0.response.data});case 9:case"end":return a.stop()}},a,null,[[0,6]])}));return function(e){return a.apply(this,arguments)}}()}})(be),ve=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={firstName:" ",lastName:" ",address:" ",birthday:null,birthday_type:"1",sex:"M",errors:{}},e.onChange=e.onChange.bind(Object(C.a)(Object(C.a)(e))),e.onSubmit=e.onSubmit.bind(Object(C.a)(Object(C.a)(e))),e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"onChange",value:function(e){var t;this.setState((t={},Object(S.a)(t,e.target.name,e.target.value),Object(S.a)(t,"errors",{}),t))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={id_Info:this.props.user.profile.userInfo.id_Info,firstName:this.state.firstName,lastName:this.state.lastName,address:this.state.address,birthday:this.state.birthday,birthday_type:this.state.birthday_type,sex:this.state.sex};this.props.updateProfile(t)}},{key:"componentDidMount",value:function(){if(this.props.user.profile.userInfo){var e=this.props.user.profile.userInfo;this.setState({firstName:e.firstName,lastName:e.lastName,address:e.address,birthday:e.birthday,birthday_type:e.birthday_type,sex:e.sex})}}},{key:"componentWillReceiveProps",value:function(e){if(this.props.user.profile){var t=this.props.user.profile.userInfo;this.setState({firstName:t.firstName,lastName:t.lastName,address:t.address,birthday:t.birthday,birthday_type:t.birthday_type,sex:t.sex})}e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{class:"input-groupe"},e.error?r.a.createElement("div",{className:"alert alert-danger",role:"alert"}," ",e.error," "):"",e.result?r.a.createElement("div",{className:"alert alert-success",role:"alert"}," ",e.result," "):""),r.a.createElement("div",{class:"input-groupe"},r.a.createElement("label",null,"First Name"),r.a.createElement("div",{class:"inputs"},r.a.createElement("input",{type:"text",name:"firstName",placeholder:"type first Name","min-length":"3",value:this.state.firstName||"",onChange:this.onChange}),r.a.createElement("small",null,"e.g : Djallel"))),r.a.createElement("div",{class:"input-groupe"},r.a.createElement("label",null,"Last Name"),r.a.createElement("div",{class:"inputs"},r.a.createElement("input",{type:"text",name:"lastName",placeholder:"type last Name","min-length":"3",value:this.state.lastName||"",onChange:this.onChange}),r.a.createElement("small",null,"write your last name here "))),r.a.createElement("div",{class:"input-groupe"},r.a.createElement("label",null,"Gender"),r.a.createElement("div",{class:"inputs"},r.a.createElement("select",{name:"sex",value:this.state.sex||"M",onChange:this.onChange},r.a.createElement("option",{value:"M"},"Male"),r.a.createElement("option",{value:"F"},"Female")))),r.a.createElement("div",{class:"input-groupe"},r.a.createElement("label",null,"Birthday"),r.a.createElement("div",{class:"inputs"},r.a.createElement("input",{type:"date",name:"birthday",placeholder:"type your Birthday",isdate:!0,length:"10",notnull:!0,value:this.state.birthday||" 2010-12-31",onChange:this.onChange}),r.a.createElement("small",null,"e.g : 05/06/1986 "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Privacy"),r.a.createElement("select",{name:"birthday_type",value:this.state.birthday_type,onChange:this.onChange},r.a.createElement("option",{value:"0"},"Hide Age and Date of Birth"),r.a.createElement("option",{value:"1"},"Display Only Age"),r.a.createElement("option",{value:"2"},"Showing only the day and month of Birth"),r.a.createElement("option",{value:"3"},"Age and date of birth")))),r.a.createElement("div",{class:"input-groupe"},r.a.createElement("label",null,"Address"),r.a.createElement("div",{class:"inputs"},r.a.createElement("textarea",{name:"address",placeholder:"your address ...","min-length":"5",value:this.state.address||"",onChange:this.onChange},"Medjana"),r.a.createElement("small",null,"ex : Russia, Penza 440018 "))),r.a.createElement("div",{class:"input-groupe btn"},r.a.createElement("input",{type:"reset",value:"reset"}),r.a.createElement("input",{type:"submit",value:"save",name:"editUserPersonal"}))))}}]),t}(n.Component),fe=Object(m.b)(function(e){return{errors:e.errors,user:e.security}},{updateProfile:function(e){return function(){var t=Object(E.a)(b.a.mark(function t(a){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.post("/api/profile/updateProfile/",e);case 3:a({type:"GET_USER_INFO",payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),a({type:g,payload:t.t0.response.data});case 9:case"end":return t.stop()}},t,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}()}})(ve),ge=a(43),ye=a.n(ge),we=(a(82),a(44)),xe=a.n(we),ke=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).onChange=function(t){e.setState({crop:t})},e.state={crop:{x:130,y:50,width:50,height:50},data:{},errors:{},file:"",display_width:0,display_height:0},e.onChange=e.onChange.bind(Object(C.a)(Object(C.a)(e))),e.onSubmit=e.onSubmit.bind(Object(C.a)(Object(C.a)(e))),e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"onSubmit",value:function(e){e.preventDefault();var t=this.state.crop,a=t.x+":"+t.y+":"+t.width+":"+t.height+":"+this.state.display_width+":"+this.state.display_height;this.props.uploadPicture(this.props.user.profile.userInfo.id_Info,this.state.file,a)}},{key:"getFiles",value:function(e){this.setState({data:e.base64,file:e.fileList[0]})}},{key:"onImageLoaded",value:function(e){this.state.display_width=e.width,this.state.display_height=e.height}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",null,r.a.createElement("div",{class:"wrapper fadeInDown"},r.a.createElement("div",{class:"input-groupe"},e.error?r.a.createElement("div",{className:"alert alert-danger",role:"alert"}," ",e.error," "):"",e.result?r.a.createElement("div",{className:"alert alert-success",role:"alert"}," ",e.result," "):""),r.a.createElement("form",{onSubmit:this.onSubmit,className:"formContent align-center"},r.a.createElement("h3",{className:"bold"},"Edit Your Profile Picture"),r.a.createElement(ye.a,{id:"crop-space",onImageLoaded:this.onImageLoaded.bind(this),src:this.state.data,crop:this.state.crop,onChange:this.onChange}),r.a.createElement(xe.a,{fileTypes:[".png",".jpg"],base64:!0,multipleFiles:!1,handleFiles:this.getFiles.bind(this)},r.a.createElement("div",{className:"input-groupe btn align-center"},r.a.createElement("button",{type:"button",className:"btn bg-primary"},"Choose"))),r.a.createElement("div",{className:"input-groupe btn align-right"},r.a.createElement("a",{to:"/",className:"btn bg-danger"},"Reset"),r.a.createElement("button",{type:"submit",className:"btn btn-success"},"Save ")))))}}]),t}(n.Component),Oe=Object(m.b)(function(e){return{user:e.security,errors:e.errors}},{uploadPicture:function(e,t,a){return function(){var n=Object(E.a)(b.a.mark(function n(r){var s,l,c;return b.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,(s=new FormData).append("file",t),l={headers:{"content-type":"multipart/form-data"}},n.next=6,f.a.post("/api/profile/uploadPhoto/?cropString="+a+"&idInfo="+e,s,l);case 6:c=n.sent,console.log(c.data),r({type:"UPDATE_PROFILE_PICTURE",payload:c.data}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),r({type:g,payload:n.t0.response.data});case 14:case"end":return n.stop()}},n,null,[[0,11]])}));return function(e){return n.apply(this,arguments)}}()}})(ke),je=function(){return function(){var e=Object(E.a)(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/api/groupe/all/");case 3:a=e.sent,t({type:"GET_GROUPE_LIST",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:g,payload:e.t0.response.data});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},Se=function(e){return function(){var t=Object(E.a)(b.a.mark(function t(a){var n;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.post("/api/groupe/add/",e);case 3:n=t.sent,a({type:"ADD_GROUPE",payload:n.data}),a({type:g,payload:{result:"added!"}}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),a({type:g,payload:t.t0.response.data});case 12:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()},Ce=function(e){return function(){var t=Object(E.a)(b.a.mark(function t(a){var n;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.post("/api/groupe/join/"+e);case 3:n=t.sent,a({type:"GET_STUDENT_GROUPES",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:g,payload:t.t0.response.data});case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},Ne=function(e,t){return function(){var a=Object(E.a)(b.a.mark(function a(n){return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,window.confirm("Are you sure?.")){a.next=3;break}return a.abrupt("return");case 3:return a.next=5,f.a.post("/api/groupe/leave/"+e+"/"+t);case 5:n({type:"LEAVE_GROUPE",payload:{id_student:t,id_groupe:e}}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:g,payload:a.t0.response.data});case 11:case"end":return a.stop()}},a,null,[[0,8]])}));return function(e){return a.apply(this,arguments)}}()},_e=function(e,t,a){return function(){var n=Object(E.a)(b.a.mark(function n(r){return b.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f.a.post("/api/groupe//update/"+e+"/"+a);case 3:n.sent,r({type:"UPDATE_GROUPE_LIST",payload:{index:t,state:2,newState:a}}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),r({type:g,payload:n.t0.response.data});case 10:case"end":return n.stop()}},n,null,[[0,7]])}));return function(e){return n.apply(this,arguments)}}()},Te=function(e){return function(){var t=Object(E.a)(b.a.mark(function t(a){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,window.confirm("Are you sure? ")){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,f.a.delete("/api/groupe/"+e);case 5:a({type:"UPDATE_GROUPE_LIST",payload:{index:e,state:1}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()},Ie=function(e){function t(e){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"isAccepted",value:function(e,t){return!(!t.acceptedStudents||-1===t.acceptedStudents.indexOf(e))}},{key:"componentWillMount",value:function(){this.props.getGroupe(this.props.groupe_id)}},{key:"leaveGroupe",value:function(e,t){this.props.LeaveGroupe(e,t)}},{key:"acceptStudent",value:function(e,t){this.props.acceptStudent(e,t)}},{key:"createGroupeListForUsers",value:function(){var e=this,t=[],a=this.props.groupe.students||[],n=this.props.groupe.groupe;if(a&&a.length>0){var s=0;a.map(function(a){t.push(e.isAccepted(a.id,n)&&r.a.createElement("tr",{class:"table-info"},r.a.createElement("th",{scope:"row"},s),r.a.createElement("td",null,a.id),r.a.createElement("td",null,a.username))),s++})}return t}},{key:"createGroupeListForTeacher",value:function(){var e=this,t=[],a=this.props.groupe.students||[],n=this.props.groupe.groupe,s=this.props.user.user.id;if(a.length>0){a.map(function(a){t.push(n.owner.id==s&&r.a.createElement("tr",null,r.a.createElement("td",null,a.id),r.a.createElement("td",null,a.username),e.isAccepted(a.id,n)&&r.a.createElement("td",{className:"text-center text-success"},'  "Approuved"'),!e.isAccepted(a.id,n)&&r.a.createElement("td",{className:"text-center text-warning"},'  "Not Approuved.."'),r.a.createElement("td",{className:"text-center"},!e.isAccepted(a.id,n)&&r.a.createElement("button",{onClick:e.acceptStudent.bind(e,n.id,a.id),className:"btn btn-success btn-sm"}," Accept"),r.a.createElement("button",{onClick:e.leaveGroupe.bind(e,n.id,a.id),className:"btn btn-danger btn-sm"}," Delete")))),0})}return t}},{key:"render",value:function(){var e=this.props.user.user.type;return r.a.createElement("div",{class:"container fadeInDown"},r.a.createElement("div",{className:"input-groupe btn align-left"},r.a.createElement("a",{href:"/profile/"+this.props.user.user.id+"/3",className:"btn bg-primary text-white"}," "," << Return")),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("h3",{className:"text-center"}," List of Stduent "),r.a.createElement("div",{class:"table-wrapper-scroll-y my-custom-scrollbar"},r.a.createElement("table",{class:"table table-striped w-table-fixed"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"ID"),r.a.createElement("th",{className:"text-center"},"name"),r.a.createElement("th",{className:"text-center"},"State"),3==e&&r.a.createElement("th",{className:"text-center"},"Action"))),r.a.createElement("tbody",null,1==e||2==e?this.createGroupeListForUsers():this.createGroupeListForTeacher()))))))}}]),t}(n.Component),Ae=Object(m.b)(function(e){return{errors:e.errors,groupe:e.groupe,user:e.security}},{getGroupe:function(e){return function(){var t=Object(E.a)(b.a.mark(function t(a){var n;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("/api/groupe/"+e);case 3:n=t.sent,console.log(n.data),a({type:"GET_GROUPE",payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:g,payload:t.t0.response.data});case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()},acceptStudent:function(e,t){return function(){var a=Object(E.a)(b.a.mark(function a(n){return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,console.log("accepting student "),console.log(t+"  "+e),a.next=5,f.a.post("/api/groupe/acceptStudent/"+e+"/"+t);case 5:console.log("OK"),n({type:"ACCEPT_STUDENT_IN_GROUPE",payload:t}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n({type:g,payload:a.t0.response.data});case 12:case"end":return a.stop()}},a,null,[[0,9]])}));return function(e){return a.apply(this,arguments)}}()},LeaveGroupe:Ne,joindGroupe:Ce,changeGroupeState:_e,deleteGroupe:Te,addGroupe:Se,getGroupeList:je})(Ie),Le=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={showStudent:!1,studentsGroupe:0,name:"",showForm:!1,errors:{}},a.onChange=a.onChange.bind(Object(C.a)(Object(C.a)(a))),a.onSubmit=a.onSubmit.bind(Object(C.a)(Object(C.a)(a))),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.props.getGroupeList(),2===this.props.user.user.type&&(console.log("getting students"),this.props.getStudentGroupes())}},{key:"deleteGroupe",value:function(e){this.props.deleteGroupe(e)}},{key:"changeGroupeState",value:function(e,t,a){this.props.changeGroupeState(e,t,a)}},{key:"isAcceptedStudent",value:function(e){var t=this.props.user.user.id;return!(!e.acceptedStudents||-1==e.acceptedStudents.indexOf(t))}},{key:"leaveGroupe",value:function(e,t){this.props.LeaveGroupe(e,t)}},{key:"joinGroupe",value:function(e){this.props.joindGroupe(e)}},{key:"showStudents",value:function(e){this.setState({showStudent:!0,studentsGroupe:e})}},{key:"createGroupeListForStudent",value:function(){var e=this,t=this.props.user,a=[],n=this.props.groupe.list||[];if(n.length>0){n.map(function(n){a.push(r.a.createElement("tr",null,r.a.createElement("td",null,n.id),r.a.createElement("td",null,n.name),r.a.createElement("td",null,n.nbr_users),r.a.createElement("td",{className:3==n.state?"text-warning":1==n.state?"text-success":"text-danger"}," ",3==n.state?"WaitingForActivation....":1==n.state?"Active":"Blocked"),r.a.createElement("td",{className:"text-center"},-1==t.studentGroupes.indexOf(""+n.id)&&r.a.createElement("button",{onClick:e.joinGroupe.bind(e,n.id),className:"btn btn-success btn-sm"},"Join"),-1!=t.studentGroupes.indexOf(""+n.id)&&!e.isAcceptedStudent(n)&&r.a.createElement("span",{className:"tex-primary"}," Not Yet Aprouved!.."),-1!==t.studentGroupes.indexOf(""+n.id)&&r.a.createElement("button",{onClick:e.leaveGroupe.bind(e,n.id,-1),className:"btn btn-warning btn-sm"},"Leave")))),0})}return a}},{key:"createGroupeListForAdmin",value:function(){var e=this,t=[],a=this.props.groupe.list||[];if(a.length>0){var n=0;a.map(function(a){t.push(r.a.createElement("tr",null,r.a.createElement("td",null,a.id),r.a.createElement("td",null,a.name),r.a.createElement("td",null,a.nbr_users),r.a.createElement("td",{className:3==a.state?"text-warning":1==a.state?"text-success":"text-danger"}," ",3==a.state?"WaitingForActivation....":1==a.state?"Active":"Blocked"),r.a.createElement("td",{className:"text-center"},r.a.createElement("button",{onClick:e.deleteGroupe.bind(e,a.id),className:"btn btn-danger btn-sm"},"Delete"),(1==a.state||3==a.state)&&r.a.createElement("button",{onClick:e.changeGroupeState.bind(e,a.id,n,1==a.state?3:1),className:"btn btn-warning btn-sm"},3==a.state?"Activate ":"Disactivate")))),n++})}return t}},{key:"createGroupeListForTeacher",value:function(){var e=this,t=[],a=this.props.groupe.list,n=this.props.user.user.id;if(a.length>0){a.map(function(a){t.push(a.owner.id==n&&r.a.createElement("tr",null,r.a.createElement("td",null,a.id),r.a.createElement("td",null,a.name),r.a.createElement("td",null,a.nbr_users),r.a.createElement("td",{className:3==a.state?"text-warning":1==a.state?"text-success":"text-danger"}," ",3==a.state?"WaitingForActivation....":1==a.state?"Active":"Blocked"),r.a.createElement("td",{className:"text-center"},r.a.createElement("button",{type:"button",onClick:e.deleteGroupe.bind(e,a.id),className:"btn btn-danger btn-sm"},"Delete"),(1==a.state||2==a.state)&&r.a.createElement("button",{type:"button",className:"btn btn-warning btn-sm"},2==a.state?"Activate ":"Disactivate"),r.a.createElement(p.b,{className:"btn btn-success btn-sm",onClick:e.showStudents.bind(e,a.id)},"Users")))),0})}return t}},{key:"createGroupeForm",value:function(){var e=this.state.errors;return r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-6",style:{border:"solid 1px #51D5E5"}},r.a.createElement("h3",{className:"text-center"}," New Groupe"),r.a.createElement("div",{className:"mt-10"},r.a.createElement("form",{onSubmit:this.onSubmit},e.error?r.a.createElement("div",{className:"alert alert-danger",role:"alert"}," ",e.error," "):"",e.result?r.a.createElement("div",{className:"alert alert-success",role:"alert"}," ",e.result," "):"",r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"name",placeholder:"Name",required:"required",value:this.state.name,onChange:this.onChange}))),r.a.createElement("div",{class:"input-groupe btn"},r.a.createElement("input",{type:"reset",value:"Cancel",name:"Cancel",onClick:this.showForm.bind(this,!1)}),r.a.createElement("input",{type:"submit",value:"save",onClick:this.onSubmit,name:"Save"}))))))}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"showForm",value:function(e){this.setState({showForm:e})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={name:this.state.name};this.props.addGroupe(t)}},{key:"onChange",value:function(e){this.setState(Object(S.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this.props.user.user.type;return this.state.showStudent?r.a.createElement(Ae,{groupe_id:this.state.studentsGroupe}):r.a.createElement("div",{class:"container"},this.state.showForm&&this.createGroupeForm(),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("h3",{className:"text-center bold"}," List of Groupes"),3===e&&r.a.createElement("div",null,r.a.createElement("button",{class:"btn btn-success",onClick:this.showForm.bind(this,!0)},"Add ")),r.a.createElement("div",{class:"table-wrapper-scroll-y my-custom-scrollbar"},r.a.createElement("table",{class:"table table-bordered table-striped mb-0"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"ID"),r.a.createElement("th",{className:"text-center"},"name"),r.a.createElement("th",{className:"text-center"},"users"),r.a.createElement("th",{className:"text-center"},"State"),r.a.createElement("th",{className:"text-center"},"Action"))),r.a.createElement("tbody",null,1==e?this.createGroupeListForAdmin():2==e?this.createGroupeListForStudent():this.createGroupeListForTeacher()))))))}}]),t}(n.Component),Pe=Object(m.b)(function(e){return{errors:e.errors,groupe:e.groupe,user:e.security}},{getStudentGroupes:function(){return function(){var e=Object(E.a)(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/api/users/StudentGroupes");case 3:a=e.sent,console.log("student _groupes"),console.log(a.data),t({type:"GET_STUDENT_GROUPES",payload:a.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:g,payload:e.t0.response.data});case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()},LeaveGroupe:Ne,joindGroupe:Ce,changeGroupeState:_e,deleteGroupe:Te,addGroupe:Se,getGroupeList:je})(Le),Ue=function(e,t){return function(){var a=Object(E.a)(b.a.mark(function a(n){return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.a.post("/api/admin/field/archive/"+e);case 3:n({type:"UPDATE_FIELD_STATE",payload:{index:t,state:1}}),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),n({type:g,payload:a.t0.response.data});case 9:case"end":return a.stop()}},a,null,[[0,6]])}));return function(e){return a.apply(this,arguments)}}()},Ge=function(){return function(){var e=Object(E.a)(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/api/admin/field/all");case 3:a=e.sent,t({type:"GET_FIELD_LIST",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:g,payload:e.t0.response.data});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},De=function(){return function(){var e=Object(E.a)(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/api/admin/field/subject/all");case 3:a=e.sent,console.log(a.data),t({type:"GET_SUBJECT_LIST",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:g,payload:e.t0.response.data});case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},Re=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={name:"",descr:"",showForm:!1,errors:{}},e.onChange=e.onChange.bind(Object(C.a)(Object(C.a)(e))),e.onSubmit=e.onSubmit.bind(Object(C.a)(Object(C.a)(e))),e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.props.getFieldList()}},{key:"deleteField",value:function(e){this.props.deleteField(e)}},{key:"archiveToggle",value:function(e,t){this.props.archiveField(e,t)}},{key:"createFieldList",value:function(){var e=this,t=[],a=this.props.user.fieldList;if(a.length>0){var n=0;a.map(function(a){t.push(r.a.createElement("tr",null,r.a.createElement("td",null,a.id),r.a.createElement("td",null,a.name),r.a.createElement("td",null,a.descr),r.a.createElement("td",{className:"text-center"}," ",r.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:e.deleteField.bind(e,a.id)},"delete"),r.a.createElement("button",{onClick:e.archiveToggle.bind(e,a.id,n),className:"btn btn-warning btn-sm"},a.is_arrchived?"Recover":"Archive")))),n++})}return t}},{key:"createField",value:function(){var e=this.state.errors;return r.a.createElement("div",{style:{border:"solid 1px #51D5E5",width:"50%"}},r.a.createElement("h3",{className:"text-center"}," New Field"),r.a.createElement("form",{onSubmit:this.onSubmit},e.error?r.a.createElement("div",{className:"alert alert-danger",role:"alert"}," ",e.error," "):"",e.result?r.a.createElement("div",{className:"alert alert-success",role:"alert"}," ",e.result," "):"",r.a.createElement("div",{className:"input-groupe"},r.a.createElement("div",{class:"inputs"},r.a.createElement("input",{type:"text",name:"name",placeholder:"Field name","min-length":"3",value:this.state.name,onChange:this.onChange}),r.a.createElement("small",null,"e.g : Programming Languages"))),r.a.createElement("div",{class:"input-groupe"},r.a.createElement("div",{class:"inputs"},r.a.createElement("textarea",{name:"descr",placeholder:"Description...","min-length":"5",value:this.state.descr,onChange:this.onChange}))),r.a.createElement("div",{class:"input-groupe btn"},r.a.createElement("input",{type:"reset",value:"Cancel",onClick:this.showForm.bind(this,!1)}),r.a.createElement("input",{type:"submit",value:"save",name:"editUserPersonal",onClick:this.onSubmit}))))}},{key:"componentWillReceiveProps",value:function(e){e.errors&&(e.errors.result?this.setState({errors:e.errors,name:"",descr:""}):this.setState({errors:e.errors}))}},{key:"showForm",value:function(e){this.setState({showForm:e})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={name:this.state.name,descr:this.state.descr};this.props.addField(t)}},{key:"onChange",value:function(e){this.setState(Object(S.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return r.a.createElement("section",{class:"home_banner_area"},r.a.createElement("div",{class:"banner_inner"},r.a.createElement("div",{class:"container"},this.state.showForm&&this.createField(),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("h3",{className:"text-center"}," List of Study Fields"),r.a.createElement("div",null,r.a.createElement("button",{class:"btn btn-primary btn-md",onClick:this.showForm.bind(this,!0)},"Add")),r.a.createElement("div",{class:"table-wrapper-scroll-y my-custom-scrollbar"},r.a.createElement("table",{class:"table table-striped w-table-fixed"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"Field ID"),r.a.createElement("th",{className:"text-center"},"name"),r.a.createElement("th",{className:"text-center"},"Description"),r.a.createElement("th",{className:"text-center"},"Action"))),r.a.createElement("tbody",null,this.createFieldList()))))))))}}]),t}(n.Component),Fe=Object(m.b)(function(e){return{errors:e.errors,user:e.admin}},{addField:function(e){return function(){var t=Object(E.a)(b.a.mark(function t(a){var n;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.post("/api/admin/addField/",e);case 3:n=t.sent,a({type:"ADD_FIELD",payload:n.data}),a({type:g,payload:{result:"added!"}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:g,payload:t.t0.response.data});case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()},deleteField:function(e){return function(){var t=Object(E.a)(b.a.mark(function t(a){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,console.log("deleting"),window.confirm("Are you sure? This will delete this User.")){t.next=4;break}return t.abrupt("return");case 4:return console.log("deleteing from serfver"),t.next=7,f.a.delete("/api/admin/field/"+e);case 7:a({type:"UPDATE_FIELD_STATE",payload:{index:e,state:2}}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e){return t.apply(this,arguments)}}()},archiveField:Ue,getFieldList:Ge})(Re),Be=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={field:"",name:"",descr:"",showForm:!1,errors:{}},e.onChange=e.onChange.bind(Object(C.a)(Object(C.a)(e))),e.onSubmit=e.onSubmit.bind(Object(C.a)(Object(C.a)(e))),e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.props.getFieldList(),this.props.getSubjectList()}},{key:"deleteSubject",value:function(e){this.props.deleteSubject(e)}},{key:"archiveToggle",value:function(e,t){this.props.archiveField(e,t)}},{key:"createSubjectList",value:function(){var e=this,t=[],a=this.props.user.subjectList;if(a.length>0){a.map(function(a){t.push(r.a.createElement("tr",null,r.a.createElement("td",{className:"text-center"},a.field.name),r.a.createElement("td",{className:"text-center"},a.id),r.a.createElement("td",{className:"text-center"},a.name),r.a.createElement("td",{className:"text-center"},a.description),r.a.createElement("td",{className:"text-center"}," ",r.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:e.deleteSubject.bind(e,a.id)},"delete")))),0})}return t}},{key:"createSelectField",value:function(){var e=this.props.user.fieldList,t=[];return e.length>0&&e.map(function(e){t.push(r.a.createElement("option",{value:e.id},e.name))}),t}},{key:"createField",value:function(){var e=this.state.errors;return r.a.createElement("div",{style:{border:"solid 1px #51D5E5",width:"50%"}},r.a.createElement("h3",{className:"text-center bold italic"}," New Subject"),r.a.createElement("form",{onSubmit:this.onSubmit},e.error?r.a.createElement("div",{className:"alert alert-danger",role:"alert"}," ",e.error," "):"",e.result?r.a.createElement("div",{className:"alert alert-success",role:"alert"}," ",e.result," "):"",r.a.createElement("div",{class:"input-groupe"},r.a.createElement("div",{class:"inputs"},r.a.createElement("label",null,"Field"),r.a.createElement("select",{name:"field",value:this.state.field,onChange:this.onChange,onClick:this.onChange},this.createSelectField()))),r.a.createElement("div",{className:"input-groupe"},r.a.createElement("div",{class:"inputs"},r.a.createElement("input",{type:"text",name:"name",placeholder:"Subject name","min-length":"3",value:this.state.name,onChange:this.onChange}),r.a.createElement("small",null,"e.g : Spring Security"))),r.a.createElement("div",{class:"input-groupe"},r.a.createElement("div",{class:"inputs"},r.a.createElement("textarea",{name:"descr",placeholder:"Description...","min-length":"5",value:this.state.descr,onChange:this.onChange}))),r.a.createElement("div",{class:"input-groupe btn"},r.a.createElement("input",{type:"reset",value:"Cancel",onClick:this.showForm.bind(this,!1)}),r.a.createElement("input",{type:"submit",value:"save",onClick:this.onSubmit}))))}},{key:"componentWillReceiveProps",value:function(e){e.errors&&(e.errors.result?this.setState({errors:e.errors,name:"",descr:""}):this.setState({errors:e.errors}))}},{key:"showForm",value:function(e){this.setState({showForm:e})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={name:this.state.name,descr:this.state.descr};console.log(t+" field id "+this.state.field),this.props.addSubject(this.state.field,t)}},{key:"onChange",value:function(e){this.setState(Object(S.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return r.a.createElement("section",{class:"home_banner_area"},r.a.createElement("div",{class:"banner_inner"},r.a.createElement("div",{class:"container"},this.state.showForm&&this.createField(),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("h3",{className:"text-center bold italic"}," List of Subjects"),r.a.createElement("div",null,r.a.createElement("button",{class:"btn btn-primary btn-md",onClick:this.showForm.bind(this,!0)},"Add ")),r.a.createElement("div",{class:"table-wrapper-scroll-y my-custom-scrollbar"},r.a.createElement("table",{class:"table table-striped w-table-fixed"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"Field"),r.a.createElement("th",{className:"text-center"},"Subject ID"),r.a.createElement("th",{className:"text-center"},"name"),r.a.createElement("th",{className:"text-center"},"Description"),r.a.createElement("th",{className:"text-center"},"Action"))),r.a.createElement("tbody",null,this.createSubjectList()))))))))}}]),t}(n.Component),Me=Object(m.b)(function(e){return{errors:e.errors,user:e.admin}},{addSubject:function(e,t){return function(){var a=Object(E.a)(b.a.mark(function a(n){var r;return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.a.post("/api/admin/field/addSubject/"+e,t);case 3:r=a.sent,n({type:"ADD_SUBJECT",payload:r.data}),n({type:g,payload:{result:"added!"}}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:g,payload:a.t0.response.data});case 11:case"end":return a.stop()}},a,null,[[0,8]])}));return function(e){return a.apply(this,arguments)}}()},deleteSubject:function(e){return function(){var t=Object(E.a)(b.a.mark(function t(a){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,console.log("deleting"),window.confirm("Are you sure? This will delete this User.")){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,f.a.delete("/api/admin/field/subject/"+e);case 6:a({type:"UPDATE_SUBJECT_STATE",payload:{index:e,state:2}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()},archiveField:Ue,getSubjectList:De,getFieldList:Ge})(Be),qe=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={changed:!1},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.props.getUserList()}},{key:"getUserState",value:function(e){switch(e){case 1:return r.a.createElement("td",{className:"text-success"},"OK");case 5:return r.a.createElement("td",{className:"text-default"},"Waiting for Confirmation...");case 4:return r.a.createElement("td",{className:"text-warning"},"Waiting for Activation...");case 3:return r.a.createElement("td",{className:"text-danger"},"Blocked!!!");case 2:return r.a.createElement("td",{className:"text-success"},"Online")}}},{key:"deleteUser",value:function(e){this.props.deleteUser(e)}},{key:"blockUnblock",value:function(e,t){this.props.blockUnBlockUser(e,t),this.forceUpdate()}},{key:"activateUser",value:function(e,t){this.props.activateUser(e,t)}},{key:"createUserList",value:function(){var e=this,t=[],a=this.props.user.userList;if(a.length>0){var n=0;a.map(function(a){t.push(r.a.createElement("tr",{class:2==a.type?"table-info":3==a.type?"table-warning":""},r.a.createElement("td",null,r.a.createElement("a",{href:"/profile/"+a[0]},r.a.createElement("img",{src:a[5]?y+a[5]+".min.png":"/images/no-avatar.th.png",class:"avatar"}))),r.a.createElement("td",null,a[0]),r.a.createElement("td",null,a[1]),r.a.createElement("td",null,function(e){if(console.log(e),!e)return"";var t=e.split("T")[1],a=e.split("T")[0],n=new Date,r=0;return r=525600*(parseInt(n.getFullYear())-parseInt(a.split("-")[0])),r+=43800*(parseInt(n.getMonth())+1-parseInt(a.split("-")[1])),r+=1440*(parseInt(n.getDate())-parseInt(a.split("-")[2])),r+=60*(parseInt(n.getHours())-parseInt(t.split(":")[0])),r+=parseInt(n.getMinutes())-parseInt(t.split(":")[1])}(a[7])+" min ago"),e.getUserState(a[3]),r.a.createElement("td",{id:"user_id_"+a.id,className:"text-center"}," ",r.a.createElement("button",{type:"submit",className:"btn btn-danger btn-sm",onClick:e.deleteUser.bind(e,a[0])},"delete"),5!==a[3]&&4!==a[3]&&r.a.createElement("button",{type:"submit",onClick:e.blockUnblock.bind(e,a[0],n),id:3==a[3]?"unblock":"block",className:"btn btn-warning btn-sm"},3==a[3]?"Unblock":"Block"),4==a[3]&&r.a.createElement("button",{type:"submit",id:a[0],onClick:e.activateUser.bind(e,a[0],n),className:"btn btn-success btn-sm"},"Activate")))),n++})}return t}},{key:"render",value:function(){return r.a.createElement("section",{class:"home_banner_area"},r.a.createElement("div",{class:"banner_inner"},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("h3",{className:"text-center"}," List of users"),r.a.createElement("table",{class:"table table-striped w-table-fixed"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"Picture"),r.a.createElement("th",{className:"text-center"},"user ID"),r.a.createElement("th",{className:"text-center"},"Username"),r.a.createElement("th",{className:"text-center"},"last visit"),r.a.createElement("th",{className:"text-center"},"State"),r.a.createElement("th",{className:"text-center"},"Action"))),r.a.createElement("tbody",null,this.createUserList())))))))}}]),t}(n.Component),Qe=Object(m.b)(function(e){return{user:e.admin}},{deleteUser:function(e){return function(){var t=Object(E.a)(b.a.mark(function t(a){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,console.log("deleting"),window.confirm("Are you sure? This will delete this User.")){t.next=4;break}return t.abrupt("return");case 4:return console.log("deleteing from serfver"),t.next=7,f.a.delete("/api/admin/deleteUser/"+e);case 7:a({type:"UPDATE_USER_STATE",payload:{index:e,state:1}}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e){return t.apply(this,arguments)}}()},blockUnBlockUser:function(e,t){return function(){var a=Object(E.a)(b.a.mark(function a(n){return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.a.post("/api/admin/blockUnblock/"+e);case 3:n({type:"UPDATE_USER_STATE",payload:{index:t,state:3}}),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),n({type:g,payload:a.t0.response.data});case 9:case"end":return a.stop()}},a,null,[[0,6]])}));return function(e){return a.apply(this,arguments)}}()},activateUser:function(e,t){return function(){var a=Object(E.a)(b.a.mark(function a(n){return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.a.post("/api/admin/activate/"+e);case 3:n({type:"UPDATE_USER_STATE",payload:{index:t,state:2}}),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),n({type:g,payload:a.t0.response.data});case 9:case"end":return a.stop()}},a,null,[[0,6]])}));return function(e){return a.apply(this,arguments)}}()},getUserList:O})(qe),We=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={myProfile:!1,selectedTab:a.props.match.params.tab,selectedSetting:0,errors:{}},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"setSelectedTab",value:function(e){this.setState({selectedTab:e})}},{key:"setSelectedSetting",value:function(e){e==this.state.selectedSetting&&(e=0),this.setState({selectedSetting:e})}},{key:"componentWillMount",value:function(){this.props.match.params.id==this.props.user.user.id&&this.setState({myProfile:!0}),this.props.getProfile(this.props.match.params.id)}},{key:"showAdminTabs",value:function(){var e=[];return e.push(r.a.createElement("li",{className:4==this.state.selectedTab?"selected":""},r.a.createElement("div",null),r.a.createElement("a",{href:"#",id:"groupes",onClick:this.setSelectedTab.bind(this,4)},"Fields"),r.a.createElement("div",{class:"last"}))),e.push(r.a.createElement("li",{className:5==this.state.selectedTab?"selected":""},r.a.createElement("div",null),r.a.createElement("a",{href:"#",id:"groupes",onClick:this.setSelectedTab.bind(this,5)},"Subjects"),r.a.createElement("div",{class:"last"}))),e.push(r.a.createElement("li",{className:6==this.state.selectedTab?"selected":""},r.a.createElement("div",null),r.a.createElement("a",{href:"#",id:"groupes",onClick:this.setSelectedTab.bind(this,6)},"Users"),r.a.createElement("div",{class:"last"}))),e}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;if(!this.props.user.profile)return r.a.createElement("div",null,e.error&&r.a.createElement("div",{class:"alert alert-danger"},e.error));var t=this.props.user.profile,a=t.userInfo.photo?y+"/profile/"+t.userInfo.photo+".png":"/images/no-avatar.th.png";return r.a.createElement("div",{style:{marginBottom:"50px"}},r.a.createElement("h2",null,"PROFILE"),r.a.createElement("div",{id:"page-tabs"},r.a.createElement("ul",null,r.a.createElement("li",{className:1==this.state.selectedTab?"selected":""},r.a.createElement("div",null),r.a.createElement("a",{id:"Profile",onClick:this.setSelectedTab.bind(this,1)},"Profile")),this.state.myProfile&&r.a.createElement("div",null,r.a.createElement("li",{className:2==this.state.selectedTab?"selected":""},r.a.createElement("div",null),r.a.createElement("a",{href:"#",id:"settings",onClick:this.setSelectedTab.bind(this,2)},"My settings"),r.a.createElement("div",{class:"last"})),r.a.createElement("li",{className:3==this.state.selectedTab?"selected":""},r.a.createElement("div",null),r.a.createElement("a",{href:"#",id:"groupes",onClick:this.setSelectedTab.bind(this,3)},"Groupes"),r.a.createElement("div",{class:"last"})),1===this.props.user.user.type&&this.showAdminTabs()))),r.a.createElement("div",{id:"content-page"},r.a.createElement("div",{id:"profile",className:1==this.state.selectedTab?"selected":""},r.a.createElement("div",{class:"profile-cell"},r.a.createElement("div",{class:"profile-avatar"},r.a.createElement("img",{src:a}),r.a.createElement("div",{class:"rightSide"},r.a.createElement("a",{href:"#",class:"font18 undecorated"},t.username),r.a.createElement("br",null),r.a.createElement("span",{class:"font12"},1==t.type?"Admin":2==t.type?"Student":"Teacher"))),r.a.createElement("div",{class:"profile-cv"},r.a.createElement("small",null,"curriculum vitae"),r.a.createElement("a",{href:""},"Download"))),r.a.createElement("div",{class:"block profile"},r.a.createElement("div",{class:"info"},r.a.createElement("fieldset",null,r.a.createElement("img",{src:"/images/profile-icons/firstname.png"}),r.a.createElement("label",null,"First Name"),r.a.createElement("em",null,t.userInfo.firstName?t.userInfo.firstName:"Not set Yet")),r.a.createElement("fieldset",null,r.a.createElement("img",{src:"/images/profile-icons/lastname.png"}),r.a.createElement("label",null,"Last Name"),r.a.createElement("em",null,t.userInfo.lastName?t.userInfo.lastName:"Not set Yet")),r.a.createElement("fieldset",null,r.a.createElement("img",{src:"/images/profile-icons/birthday.png"}),r.a.createElement("label",null,"Birth day"),r.a.createElement("em",null,"birth")),r.a.createElement("fieldset",null,r.a.createElement("img",{src:"/images/profile-icons/sex.png"}),r.a.createElement("label",null,"Gender"),r.a.createElement("em",null,t.userInfo.sex)),r.a.createElement("fieldset",null,r.a.createElement("img",{src:"/images/profile-icons/address.png"}),r.a.createElement("label",null,"Address"),r.a.createElement("em",null,t.userInfo.address?t.userInfo.address:"Not set Yet")),r.a.createElement("fieldset",null,r.a.createElement("img",{src:"/images/profile-icons/email.png"}),r.a.createElement("label",null,"Email"),r.a.createElement("em",null,t.email))))),this.state.myProfile&&r.a.createElement("div",{id:"settings",className:2==this.state.selectedTab?"selected":""},r.a.createElement("div",{id:"accordion"},r.a.createElement(p.b,{onClick:this.setSelectedSetting.bind(this,1),id:"accordion-username",className:1==this.state.selectedSetting?"selected":""},"Account"),r.a.createElement("div",{id:"accordion-username",className:1==this.state.selectedSetting?"selected":""},r.a.createElement(Ee,null)),r.a.createElement(p.b,{onClick:this.setSelectedSetting.bind(this,2),id:"accordion-avatar",className:2==this.state.selectedSetting?"selected":""}," Profile picture"),r.a.createElement("div",{id:"accordion-avatar",className:2==this.state.selectedSetting?"selected":""},r.a.createElement(Oe,null)),r.a.createElement(p.b,{onClick:this.setSelectedSetting.bind(this,3),id:"accordion-personal",className:3==this.state.selectedSetting?"selected":""},"Personal Information"),r.a.createElement("div",{id:"accordion-personal",className:3==this.state.selectedSetting?"selected":""},r.a.createElement(fe,null)))),r.a.createElement("div",{id:"profile",className:3==this.state.selectedTab?"selected":""},r.a.createElement(Pe,null)),1===this.props.user.user.type&&r.a.createElement("div",{className:4==this.state.selectedTab?"selected":""},r.a.createElement(Fe,null)),1===this.props.user.user.type&&r.a.createElement("div",{className:5==this.state.selectedTab?"selected":""},r.a.createElement(Me,null)),1===this.props.user.user.type&&r.a.createElement("div",{className:6==this.state.selectedTab?"selected":""},r.a.createElement(Qe,null))))}}]),t}(n.Component),He=Object(m.b)(function(e){return{user:e.security,errors:e.errors}},{getProfile:function(e){return function(){var t=Object(E.a)(b.a.mark(function t(a){var n;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("/api/users/"+e);case 3:n=t.sent,a({type:"GET_PROFILE",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:g,payload:t.t0.response.data});case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()}})(We),Ye=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={show:1,title:"",subject:"",content:"",allowed_groupes:"",delayComment:"",file:null},e.onChange=e.onChange.bind(Object(C.a)(Object(C.a)(e))),e.onSubmit=e.onSubmit.bind(Object(C.a)(Object(C.a)(e))),e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"onChange",value:function(e){this.setState(Object(S.a)({},e.target.name,e.target.value))}},{key:"componentWillMount",value:function(){this.props.getSubjectList(),this.props.getGroupeListByTeacher()}},{key:"onSubmit",value:function(e){e.preventDefault();var t={content:this.state.content,title:this.state.title,delayComment:this.state.delayComment,contentType:this.state.show};this.props.addTutorial(this.state.subject,this.state.allowed_groupes,t,this.state.file)}},{key:"fileUpload",value:function(e){this.setState({file:e.target.files[0]})}},{key:"showPDF",value:function(){document.getElementById("content-pdf-File").click()}},{key:"changeContent",value:function(e){this.setState({show:e})}},{key:"createSelectSubject",value:function(){var e=this.props.tutorial.subjects,t=[];return e.length>0&&e.map(function(e){t.push(r.a.createElement("option",{value:e.id},e.name))}),t}},{key:"addGroupe",value:function(e){var t=this.state.allowed_groupes;-1==t.indexOf(""+e)?t+=e+"/":t=t.replace(""+e,""),this.setState({allowed_groupes:t})}},{key:"createGroupeList",value:function(){var e=this;console.log(this.state.allowed_groupes);var t=this.props.tutorial.groupes,a=[];return t.length>0&&t.map(function(t){a.push(r.a.createElement("label",{className:-1==e.state.allowed_groupes.indexOf(""+t.id)?"checked":"checked on"},r.a.createElement("input",{type:"checkbox",value:t.id,val:"",checked:"true",onClick:e.addGroupe.bind(e,t.id)})," ",t.name))}),a}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("section",{className:"section_gap"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"input-groupe btn-top align-left"},r.a.createElement("h4",{className:"margin font14"},"filed : ",r.a.createElement("b",{style:{color:"#1F80BF"}},"Field  name"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("form",{className:"profile-form",onSubmit:this.onSubmit},r.a.createElement("div",{className:"input-groupe"},r.a.createElement("h3",null,"ADD NEW COURSE")),r.a.createElement("div",{className:"input-groupe"},r.a.createElement("label",null,"Module"),r.a.createElement("div",{className:"inputs"},r.a.createElement("select",{name:"subject",value:this.state.subject,onChange:this.onChange,onClick:this.onChange},this.createSelectSubject()),r.a.createElement("small",null,"select module"))),r.a.createElement("div",{className:"input-groupe"},r.a.createElement("label",null,"Title"),r.a.createElement("div",{className:"inputs"},r.a.createElement("input",{type:"text",name:"title",className:"medium",value:this.state.title,"min-length":"3",notnull:!0,onChange:this.onChange}),r.a.createElement("small",null,"e.g : jQuery and Ajax "))),r.a.createElement("div",{className:"input-groupe"},r.a.createElement("label",null,"Content type ",r.a.createElement("span",{style:{color:"#f00"}}," * ")," "),r.a.createElement("div",{className:"inputs"},r.a.createElement("div",{className:"groupe-radio"},r.a.createElement("div",{className:1===this.state.show?"radio on":"radio"},r.a.createElement("label",{className:"txt"},r.a.createElement("input",{type:"radio",name:"c_type",onClick:this.changeContent.bind(this,1)}))),r.a.createElement("div",{className:2===this.state.show?"radio on":"radio"},r.a.createElement("label",{className:"pdf"},r.a.createElement("input",{type:"radio",name:"c_type",onClick:this.changeContent.bind(this,2)}))),r.a.createElement("div",{className:3===this.state.show?"radio on":"radio"},r.a.createElement("label",{className:"images"},r.a.createElement("input",{type:"radio",name:"c_type",onClick:this.changeContent.bind(this,3)}))),r.a.createElement("div",{className:4===this.state.show?"radio on":"radio"},r.a.createElement("label",{className:"swf"},r.a.createElement("input",{type:"radio",name:"c_type",onClick:this.changeContent.bind(this,4)})))))),r.a.createElement("div",{className:"input-groupe noWidth",id:"content"},r.a.createElement("div",{className:"inputs border align-center",id:"content-txt",style:{display:1===this.state.show?"block":"none"}},r.a.createElement("center",null,r.a.createElement("textarea",{name:"content",className:"too-big inline",placeholder:"content here",value:this.state.content,onChange:this.onChange}))),r.a.createElement("div",{className:"inputs border align-center",id:"content-pdf",style:{display:1!==this.state.show?"block":"none"}},r.a.createElement("div",{id:"upload-control",className:"align-left"},r.a.createElement("label",null,"Upload file"),r.a.createElement("br",null),r.a.createElement("a",{id:"content-pdf-Button",className:"button",onClick:this.showPDF.bind(this)},"browse"),r.a.createElement("input",{type:"file",id:"content-pdf-File",onChange:this.fileUpload.bind(this),name:"file",multiple:"multiple",style:{display:"none"}}),r.a.createElement("small",{id:"content-pdf-max_size"}),r.a.createElement("div",{className:"clear"})))),r.a.createElement("div",{className:"input-groupe"},r.a.createElement("label",null,"Comments delay"),r.a.createElement("div",{className:"inputs"},r.a.createElement("input",{type:"text",name:"delayComment",value:this.state.delayComment,className:"very-small",isnumber:!0,"max-length":"5",notnull:!0,onChange:this.onChange}),r.a.createElement("small",null,"e.g : 5 (jours) "))),r.a.createElement("div",{className:"input-groupe"},r.a.createElement("label",null,"Privacy"),r.a.createElement("div",{className:"inputs"},this.createGroupeList(),r.a.createElement("input",{type:"text",name:"allowed_groupe",value:"",id:"checked_text",style:{display:"none"}}),r.a.createElement("br",null),r.a.createElement("small",null,"ex : choose groupes "),r.a.createElement("br",null),r.a.createElement("small",null,"important : don't choose any groupe for public "),r.a.createElement("label",null,"Public"),"     ")),r.a.createElement("div",{className:"input-groupe btn align-center"},r.a.createElement("input",{type:"reset",value:"reset"}),r.a.createElement("input",{type:"submit",name:"add_cours",value:"save"}))))))))}}]),t}(n.Component),Ve=Object(m.b)(function(e){return{tutorial:e.tutorial}},{getGroupeListByTeacher:function(){return function(){var e=Object(E.a)(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/api/groupe/ByTeacher/");case 3:a=e.sent,t({type:"GET_GROUPE_LIST_BY_TEACHER",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:g,payload:e.t0.response.data});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},getSubjectList:De,addTutorial:function(e,t,a,n){return function(){var r=Object(E.a)(b.a.mark(function r(s){var l,c,i;return b.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,l=JSON.stringify(a),(c=new FormData).append("file",n),c.append("subject",e),c.append("tutorial",l),c.append("allowedGroupes",t),console.log(e),console.log(t),console.log(a),i={headers:{"content-type":"multipart/form-data"}},r.next=13,f.a.post("/api/tutorial/add/",c,i);case 13:r.next=17;break;case 15:r.prev=15,r.t0=r.catch(0);case 17:case"end":return r.stop()}},r,null,[[0,15]])}));return function(e){return r.apply(this,arguments)}}()}})(Ye),ze=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={content:"",contentReplay:"",idReplay:0},a.onSubmit=a.onSubmit.bind(Object(C.a)(Object(C.a)(a))),a.onChange=a.onChange.bind(Object(C.a)(Object(C.a)(a))),a.createCommentList=a.createCommentList.bind(Object(C.a)(Object(C.a)(a))),a.setReplayID=a.setReplayID.bind(Object(C.a)(Object(C.a)(a))),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"setReplayID",value:function(e){this.setState({idReplay:e})}},{key:"componentDidMount",value:function(){this.props.getComments(this.props.parent)}},{key:"deleteComment",value:function(e){this.props.deleteComment(e)}},{key:"ShowQuote",value:function(e,t){var a=[];return e.length>0&&e.map(function(e){e.id!==t||a.push(r.a.createElement("div",{class:"quote"},r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"info"},r.a.createElement("b",null,e.user.username)," at ",r.a.createElement("em",null,e.createdAt)),r.a.createElement("p",null," ",e.content))))}),a}},{key:"createCommentList",value:function(){var e=this,t=[],a=this.props.comment.comments;return a.length>0&&a.map(function(n){t.push(r.a.createElement("div",{class:"block comments"},r.a.createElement("img",{src:y+"/profile/"+n.user.userInfo.photo+".min.png",class:"avatar"}),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"info"},r.a.createElement("b",null,r.a.createElement("a",{href:""},n.user.username)," ",2==n.user.type?"Student":"Teacher"," ")," at ",r.a.createElement("em",null,n.createdAt),r.a.createElement("a",{class:"edit-small-icon right",title:"Edit"}),r.a.createElement("a",{onClick:e.setReplayID.bind(e,n.id),class:"right reply-small-icon",title:"Reply"}),r.a.createElement("a",{class:"right delete-small-icon",title:"Delete",onClick:e.deleteComment.bind(e,n.id)})),0!==n.idReplay&&e.ShowQuote(a,n.idReplay),r.a.createElement("p",null,n.content),e.state.idReplay==n.id&&e.showCommentForm(2))))}),t}},{key:"onSubmit",value:function(e){e.preventDefault();var t={idReplay:1==e.target.id?0:this.state.idReplay,content:1==e.target.id?this.state.content:this.state.contentReplay};this.setState({content:"",contentReplay:"",idReplay:0}),this.props.addComment(this.props.parent,t),console.log(this.props.parent)}},{key:"onChange",value:function(e){this.setState(Object(S.a)({},e.target.name,e.target.value))}},{key:"cancelReplay",value:function(){this.setState({idReplay:0})}},{key:"showCommentForm",value:function(e){return r.a.createElement("form",{class:"input-groupe",onSubmit:this.onSubmit,id:e},r.a.createElement("fieldset",{class:"textarea-ballon inputs noWidth"},0!==this.state.idReplay&&r.a.createElement("a",{onClick:this.cancelReplay.bind(this),class:"delete-small-icon right",title:"Delete"}),r.a.createElement("textarea",{placeholder:"add your comment here ...",name:1==e?"content":"contentReplay",enter_valid:!0,value:1==e?this.state.content:this.contentReplay,onChange:this.onChange}),r.a.createElement("div",{className:"col-md-12  text-right "},r.a.createElement("button",{type:"submit",className:"btn btn-success"}," Send "))))}},{key:"render",value:function(){var e=this.props.user.user&&this.props.user.user.photo?y+"/profile/"+this.props.user.user.photo+".min.png":"/images/no-avatar.th.png";return r.a.createElement("div",null,r.a.createElement("small",{class:"icon-h3 add-comment"},"LEAVE REPLY : "),r.a.createElement("br",null),r.a.createElement("div",{class:"block add-comments",style:{width:"100%"}},r.a.createElement("img",{src:e}),this.showCommentForm(1)),r.a.createElement("small",{class:"icon-h3 comments"},"COMMENTS : "),this.createCommentList())}}]),t}(n.Component),Je=Object(m.b)(function(e){return{user:e.security,comment:e.comment}},{deleteComment:function(e){return function(){var t=Object(E.a)(b.a.mark(function t(a){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,window.confirm("Are you sure? This will delete this User.")){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,f.a.delete("/api/comment/"+e);case 5:a({type:"DELETE_COMMENT",payload:e}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()},getComments:function(e){return function(){var t=Object(E.a)(b.a.mark(function t(a){var n;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(e),t.next=4,f.a.get("/api/comment/all/"+e);case 4:n=t.sent,console.log(n),a({type:"GET_COMMENT_BY_TYPE",payload:n.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:g,payload:t.t0.response.data});case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()},addComment:function(e,t){return function(){var a=Object(E.a)(b.a.mark(function a(n){var r;return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.a.post("/api/comment/add/"+e,t);case 3:r=a.sent,n({type:"ADD_COMMENT",payload:r.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),n({type:g,payload:a.t0.response.data});case 10:case"end":return a.stop()}},a,null,[[0,7]])}));return function(e){return a.apply(this,arguments)}}()}})(ze),Xe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={currentIndex:0,showResult:!1,result:0,selectedAnswers:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"tryAgain",value:function(){this.setState({currentIndex:0,showResult:!1,result:0,selectedAnswers:""})}},{key:"changeIndex",value:function(){0!=this.state.currentIndex&&this.setState({currentIndex:this.state.currentIndex-1})}},{key:"showResult",value:function(){var e=this,t=this.props.questions,a=0,n=0;t.map(function(t){t.responses.map(function(t){t.valide?(a+=1,-1!==e.state.selectedAnswers.indexOf(""+t.id)&&(n+=1)):-1!==e.state.selectedAnswers.indexOf(""+t.id)&&(n-=1)})}),n=n<0?0:n,this.setState({showResult:!0,result:Math.round(n/a*100)})}},{key:"nextOption",value:function(){this.state.currentIndex!==this.props.questions.length&&this.setState({currentIndex:this.state.currentIndex+1})}},{key:"selectOption",value:function(e){var t=this.state.selectedAnswers;-1!==t.indexOf(e)?t=t.replace(e+"/",""):t+=e+"/",this.setState({selectedAnswers:t})}},{key:"showOptions",value:function(){var e=this,t=this.props.questions[this.state.currentIndex].responses,a=[];return t.map(function(t){a.push(r.a.createElement("tr",{style:{padding:"0px",backgroundColor:"white"},onClick:e.selectOption.bind(e,t.id)},r.a.createElement("td",null,r.a.createElement("div",{className:"checkbox "+(-1!==e.state.selectedAnswers.indexOf(t.id)?"on":"")})),r.a.createElement("td",{style:{padding:"0px",color:"green"}}," ",t.content," ")))}),a}},{key:"render",value:function(){return r.a.createElement("div",{class:"wrapper ",style:{width:"100%"}},this.state.showResult&&r.a.createElement("div",{id:"formContent",className:this.state.showResult?"fadeInDown":"",style:{borderTopColor:this.state.result<50?"red":this.state.result<70?"orange":"green"}},r.a.createElement("h2",null,"Your Result : "),r.a.createElement("div",{class:"fadeIn first font22",style:{color:this.state.result<50?"red":this.state.result<70?"orange":"green"}},this.state.result+"/100")),!this.state.showResult&&r.a.createElement("table",{class:"table table-striped w-table-fixed",style:{width:"100%"}},r.a.createElement("thead",null,r.a.createElement("tr",{style:{backgroundColor:"#081C23"}},r.a.createElement("th",{className:"text-center text-white",style:{width:"10%"}},"Question ",this.state.currentIndex+1," :   "),r.a.createElement("th",{className:"text-center text-white",style:{width:"90%"}}," ",this.props.questions[this.state.currentIndex].question," ? "))),r.a.createElement("tbody",null,r.a.createElement("tr",{style:{padding:"0px",backgroundColor:"white"}},r.a.createElement("td",null),r.a.createElement("td",{className:"font22"}," Select Correct Answers :  ")),this.showOptions())),r.a.createElement("div",{className:"input-groupe btn align-right"},0!==this.state.currentIndex&&!this.state.showResult&&r.a.createElement("a",{className:"btn bg-primary ",onClick:this.changeIndex.bind(this)},"Prev"),r.a.createElement("a",{className:"btn bg-primary",onClick:this.state.currentIndex+1!==this.props.questions.length?this.nextOption.bind(this):this.state.showResult?this.tryAgain.bind(this):this.showResult.bind(this)},this.state.currentIndex+1!==this.props.questions.length?"Next":this.state.showResult?"Try Again":"Show Result")))}}]),t}(n.Component),Ke=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={showQuestionnary:!1},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"showQuestionnary",value:function(){this.setState({showQuestionnary:!this.state.showQuestionnary})}},{key:"componentWillMount",value:function(){this.props.getTutorial(this.props.match.params.id)}},{key:"getDetails",value:function(){var e=this.props.tutorial.selected;return{id:e?e.id:"",subjectName:e?e.subject.name:"",allowedGroupes:e?e.allowedGroupes:"",username:e?e.teacher.username:"",title:e?e.title:"",content:e?e.content:"",createAt:e?e.createAt:"",nbrComment:e?e.nbrComment:"",nbrVisitor:e?e.nbrVisitor:"",photo:e?y+"/profile/"+e.teacher.userInfo.photo+".min.png":"",questionnary:e.questionnary}}},{key:"deleteQuestionnary",value:function(e){this.props.deleteQuestionnary(e)}},{key:"render",value:function(){var e=this;if(!this.props.tutorial.selected)return r.a.createElement("div",null);var t=this.getDetails();if(2===this.props.user.user.type&&0!=t.allowedGroupes.length){var a=!1;if(t.allowedGroupes.map(function(t){0===t.acceptedStudents.length||-1==t.acceptedStudents.indexOf(""+e.props.user.user.id)||(a=!0)}),!a)return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(p.b,{to:"/tutorials",class:"btn-top arrowLeft left"},"Return to Tutorials list "),r.a.createElement("br",null),r.a.createElement("div",{class:"Notifications Warning "},r.a.createElement("p",{class:"align-left"},r.a.createElement("small",null,"Oops! you have no access to this tutorial",r.a.createElement("em",null)))),r.a.createElement("br",null))}return console.log("hello"+y+t.content),r.a.createElement("div",null,r.a.createElement("section",{className:"section_gap"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{class:"input-groupe btn-top align-right"},r.a.createElement(p.b,{to:"/tutorials",class:"arrowLeft left"},"Return to Tutorials list "),r.a.createElement("a",{href:"",class:"arrowRight"},"TD")),r.a.createElement("div",{class:"btn"},r.a.createElement("h4",{class:"margin font14"},"Subject : ",r.a.createElement("b",{style:{color:"#1F80BF"}},t.subjectName))),r.a.createElement("div",{class:"Notifications Warning right"},r.a.createElement("p",{class:"align-left"},r.a.createElement("small",null,"Cours privacy :",r.a.createElement("em",null,0===t.allowedGroupes.length?"Public":"Private")))),r.a.createElement("div",{id:"post-frame"},r.a.createElement("h1",{class:"title"},r.a.createElement("a",null,r.a.createElement("span",null,t.title))),r.a.createElement("div",{class:"user-bar"},r.a.createElement("div",{class:"photo"},r.a.createElement("a",{href:"/people/seamusleahy"},r.a.createElement("img",{src:t.photo}))),r.a.createElement("div",{class:"meat"},r.a.createElement("h2",null,r.a.createElement("a",{href:""},t.username)),"at ",t.createAt,". ",t.nbrVisitor," views",r.a.createElement("div",{class:"right"},r.a.createElement("a",{href:"#",class:"control comments-icon"},t.nbrComment," comments"))),r.a.createElement("div",{class:"clear"})),r.a.createElement("object",{data:y+"/pdfs/"+t.content,type:"application/pdf",width:"100%",height:"800px"},r.a.createElement("p",null," Your Browser doesn't support Pdf viewer Please enable it Or download Pdf  ",r.a.createElement("a",{href:y+"/pdfs/"+t.content},"Link to PDF"))),r.a.createElement("br",null),r.a.createElement("hr",{class:"dotted"}),r.a.createElement("small",{class:"icon-h3 attach"},"ATTACHED FILES : "),r.a.createElement("br",null),r.a.createElement("hr",{class:"dotted"}),r.a.createElement("small",{class:"icon-h3 observation-icon"},"Observation : "),r.a.createElement("hr",{class:"dotted"}),t.questionnary&&r.a.createElement("div",{class:"Notifications information"},r.a.createElement("div",{class:"margin"},r.a.createElement("a",{class:"button right",onClick:this.showQuestionnary.bind(this)},this.state.showQuestionnary?"Hide":"Show"),r.a.createElement("p",{class:"align-left"},"Questionnary of this Tutorial"),this.state.showQuestionnary&&r.a.createElement(Xe,{questions:t.questionnary.questions})))),r.a.createElement("div",{class:"input-groupe btn-top align-right"},r.a.createElement("a",{href:"",id:"add_observation_btn",class:"button white add"},"Add Observation"),!t.questionnary&&r.a.createElement(p.b,{to:"/newQuestionnary/"+t.id,class:"button white add"},"Add Questionary"),t.questionnary&&r.a.createElement("form",{method:"POST",class:"right"},r.a.createElement("input",{type:"hidden",name:"id_cours",value:""}),r.a.createElement("a",{class:"button white delete",onClick:this.deleteQuestionnary.bind(this,t.questionnary.id)},"Remove Questionary"),r.a.createElement("input",{type:"submit",style:{display:"none"},title:"Delete",value:"delete",name:"delete_questinary"})),r.a.createElement("a",{href:"",class:"button white edit"},"edit"),r.a.createElement("form",{method:"POST",class:"right",action:""},r.a.createElement("input",{type:"hidden",name:"id_cours",value:""}),r.a.createElement("a",{href:"#",class:"button white delete",id:"submit"},"delete"),r.a.createElement("input",{type:"submit",style:{display:"none"},title:"Delete",value:"delete",name:"delete_cours"}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Je,{parent:t.id}),r.a.createElement("br",null),r.a.createElement("br",null))))))}}]),t}(n.Component),$e=Object(m.b)(function(e){return{tutorial:e.tutorial,user:e.security}},{deleteQuestionnary:function(e){return function(){var t=Object(E.a)(b.a.mark(function t(a){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,window.confirm("Are you sure? This will delete questionnary.")){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,f.a.delete("/api/tutorial/deleteQuestionnary/"+e);case 5:a({type:"DELETE_QUESTIONNARY"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()},getContent:function(e){return function(){var t=Object(E.a)(b.a.mark(function t(a){var n;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("/api/tutorial/pdfs/"+e);case 3:return n=t.sent,t.abrupt("return",n);case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},getTutorial:function(e){return function(){var t=Object(E.a)(b.a.mark(function t(a){var n;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("/api/tutorial/"+e);case 3:n=t.sent,a({type:"GET_TUTORIAL",payload:n.data}),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()}})(Ke),Ze=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={tutorial_id:a.props.match.params.id,curentIndex:1,questions:[{index:1,content:""}],reponses:[],error:{}},a.createOption=a.createOption.bind(Object(C.a)(Object(C.a)(a))),a.onResponseChange=a.onResponseChange.bind(Object(C.a)(Object(C.a)(a))),a.onQuestionChange=a.onQuestionChange.bind(Object(C.a)(Object(C.a)(a))),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"showQuestion",value:function(){var e=this,t=this.state.questions,a=[];return t.map(function(t){t.index!==e.state.curentIndex||a.push(r.a.createElement("textarea",{id:t.index,onChange:e.onQuestionChange,style:{height:"50px",padding:"0px"},className:"single-textarea",placeholder:"Question",value:t.content}))}),a}},{key:"valideToggle",value:function(e){var t=[];this.state.reponses.map(function(a){a.order!=e?t.push(a):t.push({questionIndex:a.questionIndex,order:a.order,content:a.content,valide:!a.valide})}),this.setState({reponses:t})}},{key:"showOptions",value:function(e){var t=this,a=[];return e.map(function(e){e.questionIndex===t.state.curentIndex&&a.push(r.a.createElement("tr",{style:{padding:"0px",backgroundColor:"#081C23"}},r.a.createElement("td",{style:{color:"#28A745"}},e.order),r.a.createElement("td",{style:{padding:"0px"}}," ",r.a.createElement("textarea",{onChange:t.onResponseChange,id:e.order,style:{height:"50px",padding:"0px"},className:"single-textarea",placeholder:"option",value:e.content},"  ")),r.a.createElement("td",null,r.a.createElement("div",{onClick:t.valideToggle.bind(t,e.order),className:"checkbox "+(e.valide?"on":"")}))))}),a}},{key:"onQuestionChange",value:function(e){var t=[];this.state.questions.map(function(a){a.index!=e.target.id?t.push(a):t.push({index:a.index,content:e.target.value})}),this.setState({questions:t,error:{}})}},{key:"onResponseChange",value:function(e){var t=[];this.state.reponses.map(function(a){a.order!=e.target.id?t.push(a):t.push({questionIndex:a.questionIndex,order:a.order,content:e.target.value,valide:a.valide})}),this.setState({reponses:t})}},{key:"changeIndex",value:function(){1!=this.state.curentIndex&&this.setState({curentIndex:this.state.curentIndex-1,error:{}})}},{key:"nextOption",value:function(){this.state.curentIndex!==this.state.questions.length&&this.setState({curentIndex:this.state.curentIndex+1,error:{}})}},{key:"validateQuestion",value:function(){var e=this,t={};this.state.questions.map(function(e){e.content.length<10&&(t={message:"Please Enter A Valid Question"})});var a=this.state.reponses.filter(function(t){return t.questionIndex==e.state.curentIndex});return t.message||(a.length<2?t={message:"Question Should Have At least Two Options"}:a.map(function(e){e.content.length<10&&(t={message:"Please Enter A Valid Response (index : "+e.order+")"})})),t}},{key:"addQuestion",value:function(){var e=this.validateQuestion();if(e.message)this.setState({error:e});else{var t=this.state.questions,a={index:this.state.questions.length+1,content:""};t.push(a),this.setState({curentIndex:this.state.curentIndex+1,questions:t,error:{}})}}},{key:"createOption",value:function(){var e=this.state.reponses,t={questionIndex:this.state.curentIndex,order:e.length,content:""};e.push(t),this.setState({reponses:e,error:{}})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.validateQuestion();if(t.message)this.setState({error:t});else{var a="";this.state.questions.map(function(e){a+="0:"+e.content+"sp_q"});var n="";this.state.reponses.map(function(e){n+=e.questionIndex+":"+e.content+":"+e.valide+"sp_ans"}),this.props.addQuestionnaryToTutorial(this.state.tutorial_id,a,n)}}},{key:"render",value:function(){var e=this.state.reponses;return r.a.createElement("div",null,r.a.createElement("div",{class:"wrapper",style:{width:"100%"}},this.state.error.message&&r.a.createElement("div",{class:"alert alert-danger"},this.state.error.message),r.a.createElement("h2",null,"Question ",this.state.curentIndex),this.showQuestion(),r.a.createElement("div",null,r.a.createElement("button",{class:"btn btn-success",onClick:this.createOption}," Add Option ")),r.a.createElement("form",{onSubmit:this.onSubmit.bind(this),style:{width:"80%"}},r.a.createElement("table",{class:"table table-striped w-table-fixed",style:{width:"100%"}},r.a.createElement("thead",null,r.a.createElement("tr",{style:{backgroundColor:"#081C23"}},r.a.createElement("th",{className:"text-center text-white",style:{width:"10%"}},"Order "),r.a.createElement("th",{className:"text-center text-white",style:{width:"70%"}},"Question "),r.a.createElement("th",{className:"text-center text-white",style:{width:"20%"}},"Correct "))),r.a.createElement("tbody",null,0!=e.length&&this.showOptions(e))),r.a.createElement("div",{className:"input-groupe btn"},r.a.createElement("div",{className:"align-left"},r.a.createElement("a",{className:"btn bg-primary ",onClick:this.changeIndex.bind(this)},"Prev"),r.a.createElement("a",{className:"btn bg-primary ",onClick:this.nextOption.bind(this)},"Next")),r.a.createElement("div",{className:"align-right"},r.a.createElement("a",{className:"btn bg-danger ",onClick:this.changeIndex.bind(this)},"Cancel"),r.a.createElement("a",{className:"btn bg-primary ",onClick:this.addQuestion.bind(this)},"Add"),r.a.createElement("button",{type:"submit",className:"btn btn-success"},"Publish "))))))}}]),t}(n.Component),et=Object(m.b)(null,{addQuestionnaryToTutorial:function(e,t,a){return function(){var n=Object(E.a)(b.a.mark(function n(r){return b.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f.a.post("/api/tutorial/addQuestionnary/?tutorial="+e+"&questions="+t+"&answers="+a);case 3:n.next=7;break;case 5:n.prev=5,n.t0=n.catch(0);case 7:case"end":return n.stop()}},n,null,[[0,5]])}));return function(e){return n.apply(this,arguments)}}()}})(Ze),tt=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.props.getAllTutorials()}},{key:"showTutorials",value:function(){var e=this.props.tutorial.list?this.props.tutorial.list:[],t=[],a=1;return e.map(function(e){t.push(r.a.createElement("div",{class:"col"},r.a.createElement("div",{id:"post-frame-small"},r.a.createElement("h1",{class:"title"},r.a.createElement(p.b,{to:"/viewTutorial/"+e.id},r.a.createElement("span",null,e.title))),r.a.createElement("div",{class:"user-bar"},r.a.createElement("div",{class:"photo"},r.a.createElement(p.b,{to:"/profile/"+e.teacher.id},r.a.createElement("img",{src:y+"/profile/"+e.teacher.userInfo.photo+".png"}))),r.a.createElement("div",{class:"meat"},r.a.createElement("h2",null,r.a.createElement(p.b,{to:"/profile/"+e.teacher.id}," by ",e.teacher.username)),"at ",e.createAt,". ",e.nbrVisitor," views . ",e.nbrComment," comments",r.a.createElement("div",{class:"right"},r.a.createElement(p.b,{to:"/viewTutorial/"+e.id},"View"))),r.a.createElement("div",{class:"clear"}))))),2==a?(t.push(r.a.createElement("div",{class:"w-100"})),a=1):a++}),t}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{class:"container wrapper"},r.a.createElement("h3",{className:"bold font22",style:{color:"black"}},"Tutorials"),r.a.createElement("div",{class:"row"},3===this.props.user.user.type&&r.a.createElement("div",{class:"col"},r.a.createElement(p.b,{to:"/newTutorial",class:"btn btn-primary bold"},"Add ")),this.showTutorials())))}}]),t}(n.Component),at=Object(m.b)(function(e){return{tutorial:e.tutorial,user:e.security}},{getAllTutorials:function(){return function(){var e=Object(E.a)(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/api/tutorial/all");case 3:a=e.sent,t({type:"GET_ALL_TUTORIALS",payload:a.data}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()}})(tt),nt=localStorage.jwtToken;if(nt){w(nt);var rt=k()(nt);he.dispatch({type:"SET_CURRENT_USER",payload:rt})}var st=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"showLoggedOutOptions",value:function(){var e=[];return e.push(r.a.createElement(M.a,{exact:!0,path:"/login",component:G})),e.push(r.a.createElement(M.a,{exact:!0,path:"/register",component:B})),e.push(r.a.createElement(M.a,{exact:!0,path:"/confirmation/:id",component:R})),e}},{key:"showLoogedInOptions",value:function(e){var t=[];return t.push(r.a.createElement(M.a,{exact:!0,path:"/groupes",component:Pe})),t.push(r.a.createElement(M.a,{exact:!0,path:"/groupes/students/:id",component:Ae})),1===e.type?(t.push(r.a.createElement(M.a,{exact:!0,path:"/users",component:Qe})),t.push(r.a.createElement(M.a,{exact:!0,path:"/fields",component:Fe})),t.push(r.a.createElement(M.a,{exact:!0,path:"/subjects",component:Me}))):3===e.type&&(t.push(r.a.createElement(M.a,{exact:!0,path:"/newTutorial",component:Ve})),t.push(r.a.createElement(M.a,{exact:!0,path:"/newQuestionnary/:id",component:et}))),t.push(r.a.createElement(M.a,{exact:!0,path:"/viewTutorial/:id",component:$e})),t.push(r.a.createElement(M.a,{exact:!0,path:"/profile/:id/:tab",component:He})),t.push(r.a.createElement(M.a,{exact:!0,path:"/logout",component:j})),t.push(r.a.createElement(M.a,{exact:!0,path:"/tutorials",component:at})),t.push(r.a.createElement(M.a,{exact:!0,path:"/chat",component:T})),t}},{key:"render",value:function(){var e=localStorage.jwtToken,t=!1,a=null;return e&&(t=!0,a=k()(e)),r.a.createElement(m.a,{store:he},r.a.createElement(p.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(A,null),r.a.createElement(M.c,null,t&&this.showLoogedInOptions(a),!t&&this.showLoggedOutOptions(),r.a.createElement(M.a,{path:"/how",component:L}),r.a.createElement(M.a,{path:"/",component:P})))))}}]),t}(n.Component),lt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ct(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(r.a.createElement(st,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");lt?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ct(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):ct(e)})}}()}},[[45,1,2]]]);
//# sourceMappingURL=main.39d4f7c8.chunk.js.map